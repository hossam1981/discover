webpackJsonp([170],{"6c3S":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"PinLandingSeasonalOverlay",function(){return j});var o=n("d6ZO"),i=n.n(o),a=n("W/Cr"),r=n("WBZ1"),l=n.n(r),c=n("y2lE"),s=n("MQ2h"),u=n.n(s),p=n("7IpV"),f=n("suNN"),y=n("kzic"),m=n("gEaE");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?O(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=10,k=800,x=500,j=function(e){function r(){var e,a;v(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return E(O(O(a=b(this,(e=g(r)).call.apply(e,[this].concat(n))))),"state",{showOverlay:!1}),E(O(O(a)),"handleScroll",l()(function(){var e=a.state.showOverlay,t=Object(p.e)();2*k<t&&!e&&a.showOverlay()},P)),E(O(O(a)),"preventScrolling",function(){var e=document.body;e&&(e.__overflow__=e.style.overflow,e.style.overflow="hidden")}),E(O(O(a)),"recoverScrolling",function(){var e=document.body;e&&(e.style.overflow=e.__overflow__,delete e.__overflow__)}),E(O(O(a)),"showOverlay",function(){var e=a.props,t=e.contextLog,n=e.view,o,r;t(13,{view:e.viewType,viewParameter:e.viewParameterType,component:13307}),a.preventScrolling(),a.setState({showOverlay:!0}),n()}),E(O(O(a)),"handleSeeMoreButtonClick",function(){var e=a.props,t=e.complete,n=e.contextLog,o=e.router,r,i;n(101,{view:e.viewType,viewParameter:e.viewParameterType,component:13307,element:10895}),a.setState({showOverlay:!1},function(){t(),o.push("/topics/halloween")})}),E(O(O(a)),"handleDismissButtonClick",function(){var e=a.props,t=e.contextLog,n=e.dismiss,o,r;t(101,{view:e.viewType,viewParameter:e.viewParameterType,component:13307,element:10896}),a.setState({showOverlay:!1},function(){setTimeout(n,x)})}),a}return _(r,e),w(r,[{key:"componentDidMount",value:function e(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function e(){this.state.showOverlay&&this.props.dismiss(),this.recoverScrolling(),window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function e(){var t=this.state.showOverlay,n=Math.ceil((new Date(2018,9,31)-new Date)/864e5);return i.a.createElement(m.b,{display:"flex",alignItems:"center",position:"fixed",width:"100%",height:t?"100%":0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{zIndex:1,background:"rgba(51, 51, 51, 0.9)",WebkitTransition:"opacity 0.5s, height 1s",transition:"opacity 0.5s, height 1s",opacity:t?1:0}}},t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(m.b,{display:"flex",direction:"column",alignItems:"center",position:"absolute",width:"100%"},i.a.createElement(m.b,{paddingY:2},i.a.createElement(m.m,{size:"lg",color:"orange"},a.a._("Boo! Itâ€™s almost Halloween","Welcome message on pin landing page"))),i.a.createElement(m.b,{paddingY:2},i.a.createElement(m.m,{size:"xs",color:"white"},Object(f.b)(a.a.ngettext("You officially have {{ count }} day left to find a costume and treats","You officially have {{ count }} days left to find a costume and treats",n,"Count down on Halloween"),{count:n}))),i.a.createElement(m.b,{dangerouslySetInlineStyle:{__style:{marginTop:"64px"}}},i.a.createElement(m.c,{accessibilityLabel:a.a._("See more inspiration about Halloween","Button lead to halloween topic page"),color:"transparent",size:"lg",text:"Show me inspiration",inline:!0,onClick:this.handleSeeMoreButtonClick}))),i.a.createElement(m.b,{padding:3,position:"absolute",top:!0,right:!0,dangerouslySetInlineStyle:{__style:{marginTop:"64px"}}},i.a.createElement(m.o,{accessibilityLabel:a.a._("Close modal","X button at the top right corner of an fullscreen overlay"),icon:"cancel",iconColor:"gray",size:"xl",onClick:this.handleDismissButtonClick}))))}}]),r}(o.PureComponent);t.default=Object(s.compose)(c.a,y.withRouter)(j)}});