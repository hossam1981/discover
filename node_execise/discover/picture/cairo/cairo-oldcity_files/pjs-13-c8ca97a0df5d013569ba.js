webpackJsonp([13,17,25,73,134,191,192],{"+UuE":function(e,t,n){"use strict";t.b=o,t.i=a,t.f=u,t.e=d,t.j=f,t.g=p,t.a=b,t.c=h,t.d=m,t.h=g;var r=n("d6ZO"),c=n.n(r),l=n("gEaE"),i="#EFEFEF",s="#333333";function o(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#FEFEFE",a=r?i:"#3B5998";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("defs",null,c.a.createElement("polygon",{id:"path-1",points:"17.9859534 27.9651806 22.9718644 27.9651806 22.9718644 9 17.9859534 9 13.0000424 9 13.0000424 27.9651806 17.9859534 27.9651806"})),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-67.000000, -72.000000)"},c.a.createElement("g",{transform:"translate(67.000000, 72.000000)"},c.a.createElement("rect",{id:"avatar",fill:a,x:"0",y:"0",width:"36",height:"36",rx:"18"}),c.a.createElement("mask",{fill:"white"},c.a.createElement("use",{xlinkHref:"#path-1"})),c.a.createElement("path",{d:"M19.4725847,27.9651806 L19.4725847,19.3143216 L22.4126695,19.3143216 L22.852839,15.9428678 L19.4725847,15.9428678 L19.4725847,13.7903436 C19.4725847,12.8142291 19.7469915,12.148978 21.1642797,12.148978 L22.9719068,12.1482247 L22.9719068,9.1328326 C22.6591949,9.09181938 21.5862288,9 20.3379237,9 C17.731822,9 15.9475847,10.571141 15.9475847,13.4565463 L15.9475847,15.9428678 L13.0000424,15.9428678 L13.0000424,19.3143216 L15.9475847,19.3143216 L15.9475847,27.9651806 L19.4725847,27.9651806 Z",fill:o,mask:"url(#mask-2)"})))))}function a(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#FFFFFF",a=r?i:"#0DC2FF";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("defs",null,c.a.createElement("polygon",{id:"path-1",points:"17.9859534 27.9651806 22.9718644 27.9651806 22.9718644 9 17.9859534 9 13.0000424 9 13.0000424 27.9651806 17.9859534 27.9651806"}),c.a.createElement("polygon",{id:"path-3",points:"0 15.4545455 0 0 20 0 20 15.4545455"})),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-68.000000, -51.000000)"},c.a.createElement("g",{transform:"translate(68.000000, 51.000000)"},c.a.createElement("rect",{fill:a,x:"0",y:"0",width:"36",height:"36",rx:"18"}),c.a.createElement("mask",{fill:"white"},c.a.createElement("use",{xlinkHref:"#path-1"}))),c.a.createElement("g",{transform:"translate(76.000000, 61.000000)"},c.a.createElement("mask",{fill:"white"},c.a.createElement("use",{xlinkHref:"#path-3"})),c.a.createElement("path",{d:"M20,1.82947907 C19.2641282,2.13978309 18.4733165,2.34950437 17.6432935,2.44382678 C18.4905081,1.96094614 19.1410805,1.19635035 19.447456,0.285332236 C18.6546692,0.732389836 17.7765097,1.05709263 16.8418742,1.23210383 C16.0933465,0.47383793 15.0269578,0 13.8468122,0 C11.5806723,0 9.74344343,1.74684262 9.74344343,3.90144184 C9.74344343,4.20722451 9.77980175,4.50500786 9.84973847,4.79054877 C6.43951864,4.62784958 3.41607228,3.07459048 1.39229672,0.714165301 C1.03910165,1.29039452 0.836753356,1.96059834 0.836753356,2.67559835 C0.836753356,4.02915271 1.56121292,5.22334672 2.66220418,5.92297413 C1.98953875,5.90273237 1.35688943,5.72723427 0.803613885,5.43501566 C0.803321263,5.45129253 0.803321263,5.46763897 0.803321263,5.48405496 C0.803321263,7.37439841 2.21771096,8.95130767 4.09480961,9.30967717 C3.75046637,9.39885219 3.38798054,9.44650031 3.01371667,9.44650031 C2.74933246,9.44650031 2.4922638,9.42208499 2.24177914,9.37652366 C2.76389041,10.926583 4.27923479,12.0545566 6.07476499,12.0860669 C4.67047076,13.1324474 2.90120341,13.7561857 0.978821464,13.7561857 C0.64764622,13.7561857 0.321006621,13.7377524 0,13.7017207 C1.81586744,14.8086874 3.97271297,15.4545455 6.28991551,15.4545455 C13.8372289,15.4545455 17.9643732,9.50952103 17.9643732,4.35385551 C17.9643732,4.1846873 17.9604228,4.01642336 17.952522,3.84913325 C18.7541607,3.29905833 19.4498701,2.61188204 20,1.82947907",fill:o,mask:"url(#mask-4)"})))))}function u(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#FFFFFF",a=r?i:"#0084FF";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-68.000000, -147.000000)"},c.a.createElement("g",{transform:"translate(68.000000, 147.000000)",fill:a},c.a.createElement("rect",{x:"0",y:"0",width:"36",height:"36",rx:"18"})),c.a.createElement("polygon",{fill:o,points:"88.0700004 170.707273 82.9636366 165.227273 73 170.707273 83.9600003 159 89.1909095 164.48 99.0300007 159"}))))}function d(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#8E8E8E",a=r?i:"#EFEFEF";return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 36 36",version:"1.1"},c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("circle",{fill:a,cx:"18",cy:"18",r:"18"}),c.a.createElement("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:o,fillRule:"nonzero"},c.a.createElement("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"}))))}function f(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"none",a=r?i:"#25D366";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("circle",{fill:o,cx:"18",cy:"18",r:"17"}),c.a.createElement("g",{fillRule:"nonzero",fill:a},c.a.createElement("path",{d:"M18,0 C27.945,0 36,8.055 36,18 C36,27.945 27.945,36 18,36 C8.055,36 0,27.945 0,18 C0,8.055 8.055,0 18,0 Z M18,28.5075 C23.805,28.5075 28.5075,23.805 28.5075,18 C28.5075,12.195 23.805,7.4925 18,7.4925 C12.195,7.4925 7.4925,12.195 7.4925,18 C7.4925,20.07 8.1,21.9825 9.135,23.6025 L7.4925,28.5075 L12.3975,26.865 C14.0175,27.9 15.93,28.5075 18,28.5075 Z M23.4,20.34 C23.6925,20.4975 23.895,20.565 23.9625,20.7 C24.03,20.835 24.03,21.42 23.7825,22.1175 C23.535,22.815 22.5675,23.4 21.8025,23.5575 C21.2625,23.67 20.565,23.76 18.2475,22.7925 C15.2775,21.555 13.3425,18.495 13.2075,18.2925 C13.05,18.09 11.9925,16.695 11.9925,15.2325 C11.9925,13.7475 12.735,13.05 13.0275,12.735 C13.275,12.4875 13.68,12.375 14.085,12.375 C14.1975,12.375 14.31,12.375 14.4225,12.375 C14.715,12.3975 14.8725,12.42 15.0525,12.8925 C15.3,13.4775 15.9075,14.94 15.975,15.0975 C16.0425,15.255 16.11,15.4575 16.02,15.66 C15.9075,15.8625 15.84,15.9525 15.6825,16.11 C15.5475,16.29 15.4125,16.425 15.255,16.605 C15.12,16.7625 14.9625,16.9425 15.1425,17.235 C15.3,17.5275 15.9075,18.5175 16.785,19.305 C17.91,20.3175 18.8325,20.6325 19.1475,20.7675 C19.395,20.88 19.6875,20.8575 19.8675,20.655 C20.0925,20.4075 20.3625,20.0025 20.655,19.5975 C20.8575,19.305 21.1275,19.2825 21.375,19.3725 C21.645,19.485 23.1075,20.205 23.4,20.34 Z"}))))}function p(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#8e8e8e",a=r?i:"#EFEFEF";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{fill:"none",fillRule:"evenodd"},c.a.createElement("circle",{fill:a,cx:"22",cy:"22",r:"22"}),c.a.createElement("g",{transform:"translate(12 12)",fill:o},c.a.createElement("circle",{cx:"10",cy:"10",r:"6"}),c.a.createElement("circle",{cx:"17",cy:"3",r:"2"}),c.a.createElement("circle",{cx:"17",cy:"17",r:"2"}),c.a.createElement("circle",{cx:"19",cy:"10",r:"1"}),c.a.createElement("circle",{cx:"10",cy:"19",r:"1"}),c.a.createElement("circle",{cx:"1",cy:"10",r:"1"}),c.a.createElement("circle",{cx:"10",cy:"1",r:"1"}),c.a.createElement("circle",{cx:"3",cy:"17",r:"2"}),c.a.createElement("circle",{cx:"3",cy:"3",r:"2"}))))}function b(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#8e8e8e",a=r?i:"#EFEFEF";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("circle",{id:"Oval",fill:a,cx:"18",cy:"18",r:"18"}),c.a.createElement("g",{transform:"translate(9.000000, 12.000000)",fill:o,fillRule:"nonzero"},c.a.createElement("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"}))))}function h(e){var t=e.size,n=e.iconColor,r=e.accessibilityLabel,o=e.style,a=void 0===o?{}:o,i=""===r||null;return c.a.createElement("svg",{style:a,width:t,height:t,viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":i,"aria-label":r,role:"img"},c.a.createElement("title",null,r),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-1791.000000, -2142.000000)",fill:n},c.a.createElement("path",{d:"M1791,2166.4419 C1791,2155.3954 1795.61647,2148.79742 1804.8494,2146.64795 L1804.8494,2142 L1815.77043,2151.50893 L1804.8494,2161.85439 L1804.8494,2156.65749 C1798.74679,2156.65749 1794.13032,2159.91896 1791,2166.4419 Z",id:"Forward_Arrow"}))))}function m(e){var t=e.size,n=e.iconColor,r=e.accessibilityLabel,o=e.style,a=void 0===o?{}:o,i=""===r||null;return c.a.createElement("svg",{style:a,width:t,height:t,viewBox:"0 0 28 25",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":i,"aria-label":r,role:"img"},c.a.createElement("title",null,r),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{fill:n},c.a.createElement("path",{d:"M19.5,3.50185937 C20.6120609,3.54743577 21.5,4.42513458 21.5,5.5 L21.5,21.5 C21.5,22.604 20.5632727,23.5 19.4090909,23.5 L0.590909091,23.5 C-0.563272727,23.5 -1.5,22.604 -1.5,21.5 L-1.5,14.5 C-1.5,13.396 -0.563272727,12.5 0.590909091,12.5 C1.74509091,12.5 2.68181818,13.396 2.68181818,14.5 L2.68181818,19.5 L17.3181818,19.5 L17.3181818,7.5 L12.5,7.5 C11.3954305,7.5 10.5,6.6045695 10.5,5.5 C10.5,4.3954305 11.3954305,3.5 12.5,3.5 L19.5,3.5 L19.5,3.50185937 Z",transform:"translate(10.000000, 13.500000) rotate(-270.000000) translate(-10.000000, -13.500000) "}),c.a.createElement("path",{d:"M20.3816859,4.04134351 L19.524521,3.15663009 C18.8263527,2.43572211 18.8245649,1.26563301 19.5227331,0.541952313 C20.2200074,-0.179879904 21.3517372,-0.180804145 22.0507994,0.540103831 L27.428751,6.08924677 L22.0534812,11.6577988 C21.355313,12.379631 20.2235832,12.3805552 19.524521,11.6596472 C18.8263527,10.9387393 18.8245649,9.76865017 19.5227331,9.04589371 L20.5892052,7.94050148 L20.5890905,7.9040075 C20.395645,7.96633483 20.1893335,8 19.9751591,8 C15.5976651,8 12,11.565494 12,16.0493927 C12,17.1539622 11.1045695,18.0493927 10,18.0493927 C8.8954305,18.0493927 8,17.1539622 8,16.0493927 C8,9.34827209 13.3965291,4 19.9751591,4 C20.1144528,4 20.2504205,4.01423995 20.3816859,4.04134351 Z",fillRule:"nonzero"}))))}function y(e){var t=e.size,n=e.iconColor,r=e.accessibilityLabel,o=e.style,a=void 0===o?{}:o,i=""===r||null;return c.a.createElement("svg",{style:a,width:t,height:t,viewBox:"0 0 23 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":i,"aria-label":r,role:"img"},c.a.createElement("title",null,r),c.a.createElement("defs",null,c.a.createElement("path",{d:"M2,11.0018594 L2,11 L4,11 C5.1045695,11 6,11.8954305 6,13 C6,14.0432805 5.20118182,14.8999869 4.18181818,14.9918467 L4.18181818,28 L18.8181818,28 L18.8181818,14.9918467 C17.7988182,14.8999869 17,14.0432805 17,13 C17,11.8954305 17.8954305,11 19,11 L21,11 L21,11.0018594 C22.1120609,11.0474358 23,11.9251346 23,13 L23,30 C23,31.104 22.0632727,32 20.9090909,32 L2.09090909,32 C0.936727273,32 0,31.104 0,30 L0,13 C0,11.9251346 0.887939141,11.0474358 2,11.0018594 Z M9.59137554,7.664 L8.41537554,8.842 C7.63537554,9.623 6.36937554,9.625 5.58637554,8.844 C4.80537554,8.064 4.80437554,6.798 5.58437554,6.016 L11.5883755,-9.09494702e-13 L17.6133755,6.013 C18.3943755,6.794 18.3953755,8.06 17.6153755,8.842 C16.8353755,9.623 15.5693755,9.625 14.7873755,8.844 L13.5913755,7.651 L13.5913755,19.829 C13.5913755,20.933 12.6953755,21.829 11.5913755,21.829 C10.4863755,21.829 9.59137554,20.933 9.59137554,19.829 L9.59137554,7.664 Z",id:"path-1"})),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-1643.000000, -2138.000000)"},c.a.createElement("g",{transform:"translate(1643.000000, 2138.000000)"},c.a.createElement("mask",{fill:n}),c.a.createElement("use",{fill:"#333333",xlinkHref:"#path-1"})))))}function v(e){var t=e.size,n=e.iconColor,r=e.accessibilityLabel,o=e.style,a=void 0===o?{}:o,i=""===r||null;return c.a.createElement("svg",{style:a,width:t,height:t,viewBox:"0 0 22 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":i,"aria-label":r,role:"img"},c.a.createElement("title",null,r),c.a.createElement("defs",null,c.a.createElement("path",{d:"M19,16 C17.972,16 17.043,16.399 16.334,17.037 L8.919,12.8 C8.972,12.542 9,12.274 9,12 C9,11.726 8.972,11.458 8.919,11.2 L16.334,6.963 C17.043,7.601 17.972,8 19,8 C21.209,8 23,6.209 23,4 C23,1.791 21.209,0 19,0 C16.791,0 15,1.791 15,4 C15,4.274 15.028,4.542 15.081,4.8 L7.666,9.037 C6.957,8.399 6.028,8 5,8 C2.791,8 1,9.791 1,12 C1,14.209 2.791,16 5,16 C6.028,16 6.957,15.601 7.666,14.963 L15.081,19.2 C15.028,19.458 15,19.726 15,20 C15,22.209 16.791,24 19,24 C21.209,24 23,22.209 23,20 C23,17.791 21.209,16 19,16",id:"path-1"})),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-2066.000000, -2142.000000)"},c.a.createElement("g",{transform:"translate(2065.000000, 2142.000000)"},c.a.createElement("mask",{fill:n}),c.a.createElement("use",{fill:"#333333",fillRule:"evenodd",xlinkHref:"#path-1"})))))}function g(e){var n=e.onClick,t=e.icon,r=e.buttonSize,o=e.accessibilityLabel,a=e.className,i="tempIconButton ".concat(a);return c.a.createElement("button",{className:i,style:{borderRadius:"50px",width:r,height:r},"aria-label":o,type:"button",onClick:function e(t){return n&&n({event:t})}},c.a.createElement(l.b,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},t))}g.defaultProps={buttonSize:40}},"/+lb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("1RBt"),o=n.n(r),a={ready:function(e,t){o.a.ready(e,t)},load:function(e,t,n){a.ready(e,function(){var e;0===t.lastIndexOf("//",0)&&(t=window.location.protocol+t),o()(t,n)})},done:function(e){o.a.done(e)}};t.default=a},"0XFc":function(e,t,n){"use strict";var r=n("d6ZO"),m=n.n(r),i=n("RklN"),o=n.n(i),a=n("OIxG"),c=n("vJNz"),y=n("aC/n"),v=n("W/Cr"),l=n("p58k"),s=n("LQgx"),u=n("r/ec"),d=n("NyaW"),f=n("JyNp"),p=n("MQ2h"),b=n.n(p),g=n("+B8E"),h=n("Otfq"),E=n("gEaE");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function C(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?I(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){function o(){var e,a;w(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(I(I(a=C(this,(e=j(o)).call.apply(e,[this].concat(n))))),"handleCancel",function(){a.props.dismissHandler()}),x(I(I(a)),"handleSuggestedBoardSelection",function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=a.props.onChangeBoardName,r=Object(i.findDOMNode)(a.textInput);if(r instanceof HTMLElement){var o=r.querySelector("input");o&&o.focus()}n(e,t)}),x(I(I(a)),"saveTextInputRef",function(e){a.textInput=e}),a}return k(o,e),S(o,[{key:"shouldComponentUpdate",value:function e(t){return!(this.props.saving&&!t.saving)}},{key:"renderFlyoutLoader",value:function e(){return m.a.createElement(E.b,{height:450,width:320,padding:4},m.a.createElement(E.m,{size:"sm"},v.a._("Saving your first pin...","Loading text while we save your first pin")),m.a.createElement(E.b,{marginTop:10},m.a.createElement(E.G,{show:!0,accessibilityLabel:v.a._("Saving your first pin...","Loading text while we save your first pin")})))}},{key:"renderFirstPinText",value:function e(){return m.a.createElement(E.b,{paddingX:4,paddingY:3},m.a.createElement(E.K,{size:"lg",bold:!0},v.a._("Where do you want to save this Pin?","Text asking a user what board they want to save their pin to")),m.a.createElement(E.K,{size:"sm"},v.a._("Click to create your first board!","Text indicating a user can select any of the following board names")))}},{key:"renderRow",value:function e(t){var n=t.item,r=t.hovered,o=t.sectionProps,a=void 0===o?{}:o,i="board_section"===n.type;return m.a.createElement(c.a,{disabled:!1,item:n,isSection:i,saveState:null,searchQuery:null,selected:r,size:"lg"})}},{key:"renderUserBoards",value:function e(t){var n=this.props.onCreate,r=[{items:t}],o=new l.a(r.map(function(e){return e.items}));return o.setSelectItem(n),m.a.createElement(h.a,{indexManager:o,onSelectItem:n,renderItem:this.renderRow,sections:r})}},{key:"renderFlyoutCreate",value:function e(){var t=this.props,n=t.boardResource,r=t.createBoardError,o=t.image,a=t.inputName,i=t.isFirstPin,c=t.nameValidatorErrors,l=t.onBoardCreate,s=t.onChangeBoardName,u=t.pinId,d=t.saving,f=0===c.length,p=!!a&&!d&&f&&!r,b=[];n.isLoaded&&(b=n.data.all_boards.slice(0,5));var h=new g.b(this.props.requestContext,"flyout_v2").getIntParamWithNoActivation(1);return m.a.createElement(E.b,{color:"white",direction:"column",display:"flex",height:"100%",position:"static",width:330},m.a.createElement(E.b,{maxHeight:420,overflow:"auto"},n.isLoaded&&0<b.length?m.a.createElement(E.b,null,m.a.createElement(E.b,{paddingX:4,paddingY:3},m.a.createElement(E.K,{size:"sm"},v.a._("Your boards","Text to indicate the following are the user's boards"))),this.renderUserBoards(b),m.a.createElement(E.j,null)):null,i?this.renderFirstPinText():m.a.createElement(E.b,{paddingX:4,paddingY:3},m.a.createElement(E.K,{size:"sm"},v.a._("Click to create a new board","Text indicating a user can select from the following to create a new board"))),m.a.createElement(y.a,{onBoardSelected:this.handleSuggestedBoardSelection,pinId:u,image:o,minHeight:336,inFlyoutExp:!0,oneTapFlyout:1===h})),m.a.createElement(E.j,null),m.a.createElement(E.b,{alignItems:"center",direction:"row",display:"flex",padding:2},m.a.createElement(E.b,{paddingX:2,flex:"grow"},m.a.createElement(E.M,{id:"boardEditName",onChange:function e(t){var n=t.value;return s(n)},placeholder:v.a._("Name your board","Placeholder text for the user to provide a name for their new board"),ref:this.saveTextInputRef,type:"text",value:a})),m.a.createElement(E.b,null,m.a.createElement(E.c,{disabled:!f||!p,onClick:l,color:"red",size:"md",text:v.a._("Create","button to create board")}))),!f&&m.a.createElement(E.b,{marginBottom:2,marginLeft:4,marginTop:1},c.map(function(e,t){return m.a.createElement(E.K,{color:"red",key:t,size:"sm"},e)})))}},{key:"render",value:function e(){var t=this.props,n=t.anchorRef,r=t.inModal,o=t.isFirstPin,a=t.saving,i;if(t.shownWithinMasonry)return m.a.createElement(u.a,{anchor:n,size:"lg",positionRelativeToAnchor:!r,onDismiss:this.handleCancel},o&&a?this.renderFlyoutLoader():this.renderFlyoutCreate());var c=m.a.createElement(E.k,{anchor:n,size:"lg",positionRelativeToAnchor:!r,onDismiss:this.handleCancel},o&&a?this.renderFlyoutLoader():this.renderFlyoutCreate()),l={overlay:{alignItems:"normal",display:"block",padding:0},content:{height:"100%",margin:0}};return r?m.a.createElement(s.a,{noButton:!0,onHide:this.handleCancel,style:l},c):c}}]),o}(r.Component);t.a=Object(p.compose)(Object(f.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:function e(){return{field_set_key:"board_picker",shortlist_suggestions:5}}}),a.b,d.a)(T)},"1RBt":function(e,t){var c="undefined"==typeof window?null:window.document,l=c?c.getElementsByTagName("head")[0]:null,s=/^https?:\/\//,u={},d={},f={},p="",b={},n="string",h=!1,m="push",r="DOMContentLoaded",o="readyState",a="addEventListenerName",y="onreadystatechangeName";function v(e,t){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return h;return!0}function g(e,t){return v(e,function(e){return!t(e)}),h}function E(e,t,n){e=e[m]?e:[e];var r=t&&"function"==typeof t,o=r?t:n,a=r?e.join(""):t,i=e.length;function c(e){var t;return e.call?e():u[e]}function l(){if(!--i){var e;if(u[a]=1,o)o();for(var t in f)v(t.split("|"),c)&&!g(f[t],c)&&(f[t]=[])}}return setTimeout(function(){g(e,function(e){return null===e?l():b[e]?(a&&(d[a]=1),2==b[e]&&l()):(b[e]=1,a&&(d[a]=1),void _(!s.test(e)&&p?p+e+".js":e,l))})},0),E}function _(e,t){var n=!1,r=function(e,t){n||("loaded"===e.readyState||"completed"===e.readyState?t():setTimeout(function(){r(e,t)},100))},o=c.createElement("script"),a=h,i=o.onload=o.onerror=o[y]=function(){n||(n=!0,o.readyState&&!/^c|loade/.test(o.readyState)||(o.onload=o[y]=null,a=1,b[e]=2,t()))};r(o,i),o.async=1,o.src=e,l.insertBefore(o,l.firstChild)}c&&!c[o]&&c[a]&&(c[a](r,function e(){c.removeEventListener(r,e,h),c[o]="complete"},h),c[o]="loading"),E.get=_,E.order=function(n,r,o){!function e(){var t=n.shift();n.length?E(t,e):E(t,r,o)}()},E.path=function(e){p=e},E.ready=function(e,t,n){e=e[m]?e:[e];var r=[],o,a,i;return!g(e,function(e){u[e]||r.push(e)})&&v(e,function(e){return u[e]})?t():(a=e.join("|"),f[a]||(f[a]=[]),f[a][m](t),n&&n(r)),E},E.done=function(e){E([null],e)},e.exports=E},"1Xwf":function(e,t,n){"use strict";var d=n("d6ZO"),y=n.n(d),f=n("W/Cr"),r=n("JyNp"),o=n("suNN"),v=n("gEaE"),a=185;function i(e){var t=e.saveStatusResource.data;return t&&t.pinned_to_board?y.a.createElement(v.b,null,y.a.createElement(v.b,{color:"orange","data-test-id":"already-pinned",display:"flex",padding:3,shape:"rounded",width:a},y.a.createElement(v.K,{align:"center",bold:!0,color:"white",size:"sm"},Object(o.b)(f.a._("Psst! You already saved this Pin to {{ board_name }} ","Toast for already having repinned pin"),{board_name:(t.pinned_to_board||{}).name}).join(" "))),y.a.createElement(v.b,{display:"flex",justifyContent:"center",marginTop:-3},y.a.createElement(v.n,{accessibilityLabel:"",color:"orange",icon:"heart",size:26}))):null}var g=Object(r.b)({name:"PinSaveStatusResource",key:"saveStatusResource",options:function e(t){var n;return{id:t.pin.id}}},{allowStale:!1})(i),E=n("qtmg"),_=n("QuPB"),p=n("AcTh"),c,w=function e(t){var n=t.allowChange,r=t.description,o=t.editing,a=t.onHandleDescriptionBlur,i=t.onHandleDescriptionEdit,c=t.onRefTextArea,l=t.onChange,s=t.onCursorChange,u=function e(t){var n=t.description,r=t.editing,o=t.allowChange;return d.createElement(v.b,{display:"flex",justifyContent:"between",marginLeft:-1,marginRight:-1},d.createElement(v.b,{paddingX:1,overflow:"hidden"},d.createElement(v.K,{bold:!0,color:n.clamped?"darkGray":"gray",size:"sm"},n.clamped?n.clamped:f.a._("Tell us about this Pin..."))),d.createElement(v.b,{paddingX:1},!r&&o&&d.createElement(v.n,{accessibilityLabel:f.a._("Edit description"),icon:"edit"})))};return d.createElement(v.b,{mdDisplay:"flex"},o?d.createElement(p.a,{focused:!0,onBlur:a,onFocus:n&&i,onChange:l,onCursorChange:s,placeholder:f.a._("Tell us about this Pin..."),style:n&&{outline:"none",maxHeight:120,minHeight:60,width:"100%"},ref:c,rows:3,value:r.full}):d.createElement(v.b,{width:"100%"},n?d.createElement(v.P,{onTouch:i},d.createElement(u,{description:r,editing:o,allowChange:n})):d.createElement(u,{description:r,editing:o,allowChange:n})))},O=n("MH3C"),l=n("y2lE");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?k(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}function j(e,t){return(j=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I="PinPanePinMeta",x=236,T=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*/,R=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/,B=0,L="g",D=function(e){function o(){var e,u;b(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(k(k(u=m(this,(e=S(o)).call.apply(e,[this].concat(n))))),"state",{cursorIndex:-1,flyoutCursorIndex:-1,description:u.props.pin&&u.props.pin.description&&u.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,editedBefore:!1,flyoutOpened:!1}),P(k(k(u)),"onDescriptionChange",function(e,t){var n=new RegExp(T,L),r="";if(t<e.length){for(var o=n.exec(e),a=n.lastIndex<t;o&&a;)o=n.exec(e),a=n.lastIndex<t;var i=!!o&&T.test(e.slice(o.index,t));a=!!o&&o.index<t,o&&i&&a&&(r=o[0])}else{var c=R.exec(e);r=c?c[0]:""}u.updateDescription(e);var l=T.test(r),s=u.state.isHashtagFlyoutOpen?u.state.flyoutCursorIndex:e.slice(0,t).lastIndexOf("#");u.setState({cursorIndex:t,flyoutCursorIndex:s,description:e,hashtagQuery:r,isHashtagFlyoutOpen:l,flyoutOpened:u.state.flyoutOpened||l})}),P(k(k(u)),"onCursorChange",function(e){var t=u.state,n=t.isHashtagFlyoutOpen,r=t.flyoutCursorIndex;n&&e<r&&u.setState({isHashtagFlyoutOpen:!1})}),P(k(k(u)),"updateDescription",function(e){u.props.updateDescription&&u.props.updateDescription(e)}),P(k(k(u)),"handleDescriptionBlur",function(e){var t=e.target.value.trim(),n=u.state.isHashtagFlyoutOpen;u.updateDescription(t),u.setState({description:t,editing:n})}),P(k(k(u)),"handleDescriptionEdit",function(){u.setState({editing:!0,editedBefore:!0})}),P(k(k(u)),"handleHashtagAddition",function(e){var t=u.props,n,r;(0,t.contextLog)(101,{component:208,element:10249,hashtags:e,objectId:t.pin.id});var o=u.state.flyoutCursorIndex,a=Number(o+u.state.hashtagQuery.length),i,c,l=u.state.description.slice(0,o)+e+" "+u.state.description.slice(a);u.updateDescription(l),u.setState({description:l,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),P(k(k(u)),"handleRefTextArea",function(e){u._textArea=e}),u}return C(o,e),h(o,[{key:"render",value:function e(){var n=this,t=this.props,r=t.color,o=t.isFirstPin,a=t.pin,i=this.state,c=i.description,l=i.editing,s=i.flyoutOpened,u=i.hashtagQuery,d=i.isHashtagFlyoutOpen,f=a.images,p=a.link,b,h=f&&f["236x"],m=h&&h.url||a.image_base64;return y.a.createElement(v.b,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:o?"50%":"",dangerouslySetInlineStyle:{__style:s&&l?{transform:"translateY(-75px)"}:{}}},y.a.createElement(v.b,{display:"flex",direction:"column",alignItems:"center"},a&&a.id&&y.a.createElement(g,{pin:a}),y.a.createElement(v.b,{paddingY:o?9:0,width:216},y.a.createElement(v.b,{maxHeight:s&&l?220:335,shape:"rounded",overflow:"hidden"},m?y.a.createElement(v.p,{alt:c,src:m,naturalHeight:h.height||1,naturalWidth:h.width||1}):!!p&&y.a.createElement(_.a,{color:r||"",description:c,url:p})),y.a.createElement(v.b,{marginTop:2,paddingX:2,id:I},y.a.createElement("div",{ref:function e(t){n.anchor=t}},y.a.createElement(w,{allowChange:!a.is_native,description:Object(O.a)(c),editing:l,hashtagFlyoutOpen:d,onHandleDescriptionBlur:this.handleDescriptionBlur,onHandleDescriptionEdit:this.handleDescriptionEdit,onRefTextArea:this.handleRefTextArea,onChange:this.onDescriptionChange,onCursorChange:this.onCursorChange}))))),this.anchor&&d?y.a.createElement(E.a,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,editing:l,query:u}):null)}}]),o}(d.Component),M=t.a=Object(l.a)(D)},"1zCC":function(e,t,n){"use strict";var a=n("EAiy"),o=function e(t,n){var r=screen.width,o=screen.height,a,i;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+t+",height="+n+",left="+Math.round((r-t)/2)+",top="+(n<o?Math.round((o-n)/2):0)},r=function e(t){var n=document.documentElement,r=n.scrollWidth-n.clientWidth,o=n.scrollHeight-n.clientHeight;t&&(r=Math.max(r,0),o=Math.max(o,0)),a.a.isAuthenticated()||(o=340),window.resizeBy(r,o)},i={open:function(e,t,n){var r=o(t,n);window.open(e,void 0,r)},shrinkWrap:function(){r(!1)},contain:function(){r(!0)},resizeViewPort:function(e,t){window.outerWidth?window.resizeTo(e+(window.outerWidth-window.innerWidth),t+(window.outerHeight-window.innerHeight)):(window.resizeTo(500,500),window.resizeTo(e+(500-document.body.offsetWidth),t+(500-document.body.offsetHeight)))}};t.a=i},"2FON":function(e,t){},"2aok":function(e,t){},"63R5":function(e,t,n){"use strict";n.d(t,"a",function(){return p}),t.b=o;var s=n("FfPm"),u=20,d=100,f=.01,p=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2});function r(r){return new Promise(function(e,t){if(document.querySelector('script[src="'.concat(r,'"]')))e();else{var n=document.createElement("script");n.src=r,n.async=!0,n.addEventListener("load",e),n.addEventListener("error",t),document.getElementsByTagName("head")[0].appendChild(n)}})}function o(i){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p.OTHER,e,l=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?"web":"mweb";return new Promise(function(e,t){if(document.querySelector('script[src="'.concat(i,'"]'))){var n=0;if(c===p.GPLUS_ONE)if(window.gapi)e();else var r=setInterval(function(){window.gapi||n===u?(clearInterval(r),e()):(n+=1,s.default.increment("".concat(l,".loadScript.gplus_one.tries_").concat(n),f))},d);else if(c===p.FACEBOOK)if(window.FB)e();else var o=setInterval(function(){window.FB||n===u?(clearInterval(o),e()):(n+=1,s.default.increment("".concat(l,".loadScript.facebook.tries_").concat(n),f))},d);else e()}else{var a=document.createElement("script");a.src=i,a.async=!0,a.addEventListener("load",e),a.addEventListener("error",t),document.getElementsByTagName("head")[0].appendChild(a)}})}},"6oHq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("YlIK"),o=n("mIxQ"),a=n.n(o),i=n("ZtCB"),c=n.n(i),l=n("/+lb"),s=n("EAiy"),u=n("63R5"),d=!1,f={ensureInit:function e(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.a,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"en_US";if(o)Object(u.b)("//connect.facebook.net/".concat(a,"/sdk.js"),u.a.FACEBOOK,!0).then(function(){n._fbCallback(t,r)});else{var i="fb";l.default.load([],"//connect.facebook.net/".concat(a,"/sdk.js"),i),l.default.ready(i,function(){n._fbCallback(t,r)})}},_fbCallback:function e(t,n){var r=window.FB;r&&(d||(r.init({appId:a.a.FB_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",function(e){f.refreshAccessToken(n)}),d=!0),t(r))},ensureLoggedIn:function e(t,n){f.ensureInit(function(e){f.logIn(e,t)},n)},logIn:function e(t,n){t&&(t.getUserID()?n(t):t.login(function(){n(t)}))},refreshAccessToken:function e(t){t.isAuthenticated()&&t.attributes.facebook_id&&!t.isLimitedLogin()&&f.ensureInit(function(e){if(e.getUserID()){var t=e.getAccessToken(),n;if(t)c.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}},t)},injectTrackingPixel:function e(t){!function(){var e=window._fbq||(window._fbq=[]);if(!e.loaded){var t=document.createElement("script");t.async=!0,t.src="//connect.facebook.net/en_US/fbds.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),e.loaded=!0}}(),window._fbq=window._fbq||[],window._fbq.push(["track",t,{value:"0.00",currency:"USD"}])}};t.default=r.a.expose("Facebook",f)},"8N7E":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("d6ZO"),r=n.n(o),a=n("W/Cr"),i=n("mu3h"),c=n("gEaE"),l=function e(t){var r=t.handlePinEditButtonClick;return o.createElement(c.o,{accessibilityLabel:a.a._("Edit","edit button on pin"),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:function e(t){var n=t.event;r(n)}})};t.default=Object(i.a)(l)},"8Zvv":function(e,t,n){"use strict";t.a=r,t.b=u;var o=n("+B8E");function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="/i-h2.pinimg.com/",l="/i-h1.pinimg.com/",s="/i.pinimg.com/";function r(e,t){if(!e)return t;var n=new o.a(e,"web_fastly_http2_images"),r;return n.check("enabled_all")?r=c:n.check("control_all")&&(r=l),t&&r?t.replace(s,r):t}function u(e,t){if(!e)return t;var n=new o.a(e,"web_fastly_http2_images"),r;return n.check("enabled_all")?r=c:n.check("control_all")&&(r=l),r?t.map(function(e){return a({},e,{url:e.url.replace(s,r)})}):t}},"8e8Q":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",COMMUNITY:"community"},o=r},"9bGG":function(e,t,n){"use strict";t.a=O;var r=n("d6ZO"),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=32,m=100,y=null,v=!1,g=[],E=function e(){y&&clearTimeout(y),v=!0,y=setTimeout(function(){v=!1},m)},_=function e(t){0===g.length&&window.addEventListener("scroll",E),g.push(t)},w=function e(t){var n=g.indexOf(t);g.splice(n,1),0===g.length&&window.removeEventListener("scroll",E)};function O(t){return function(e){function a(){var e,t;i(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return b(p(p(t=s(this,(e=u(a)).call.apply(e,[this].concat(r))))),"state",{isHovering:!1}),b(p(p(t)),"handlers",{onMouseOver:function e(){return t._setHover(!0)},onMouseLeave:function e(){return t._setHover(!1)}}),t}return d(a,e),l(a,[{key:"componentDidMount",value:function e(){_(this)}},{key:"componentWillUnmount",value:function e(){this.hoverTimer&&clearTimeout(this.hoverTimer),w(this)}},{key:"_setHover",value:function e(t){var n=this;this.hoverTimer&&clearTimeout(this.hoverTimer),this.hoverTimer=t&&v?setTimeout(function(){return n._setHover(t)},m):setTimeout(function(){t!==n.state.isHovering&&n.setState({isHovering:t})},h)}},{key:"render",value:function e(){return r.createElement(t,Object.assign({},this.props,{hoverHandlers:this.handlers,isHovering:this.state.isHovering}))}}]),a}(r.Component)}},AcTh:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("d6ZO"),o=n.n(r),a=n("IaRT"),i=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function r(e,t){var n;return l(this,r),m(h(h(n=d(this,f(r).call(this,e,t)))),"handleChange",function(e){n.props.onChange&&n.props.onChange.call(h(h(n)),e.target.value,e.target.selectionStart),n.setState({value:e.target.value})}),m(h(h(n)),"updateCursor",function(e){n.props.onCursorChange&&n.props.onCursorChange(e.target.selectionStart)}),m(h(h(n)),"handleKeyUp",function(e){n.props.onKeyUp&&n.props.onKeyUp(e),n.updateCursor(e)}),m(h(h(n)),"handleKeyDown",function(e){n.props.onKeyDown&&n.props.onKeyDown(e)}),m(h(h(n)),"handleFocus",function(e){n.props.onFocus&&n.props.onFocus(e),n.updateCursor(e)}),m(h(h(n)),"handleBlur",function(e){n.props.onBlur&&n.props.onBlur(e)}),m(h(h(n)),"handleClick",function(e){n.props.onClick&&n.props.onClick(e),n.updateCursor(e)}),n.state={isFocused:n.props.focused||!1,value:n.props.value},n}return p(r,e),u(r,[{key:"componentDidMount",value:function e(){this.focusIfNeeded()}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.setState({isFocused:t.focused,value:t.value})}},{key:"componentDidUpdate",value:function e(){this.focusIfNeeded()}},{key:"focusIfNeeded",value:function e(){this.state.isFocused&&document.activeElement!==this._textArea&&this._textArea.focus()}},{key:"select",value:function e(){this._textArea.select()}},{key:"render",value:function e(){var n=this,t=this.props;return o.a.createElement("textarea",{className:t.className,cols:t.cols,disabled:t.disabled?"disabled":"",id:t.id,name:t.name,onBlur:this.handleBlur,onChange:this.handleChange,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,placeholder:t.placeholder,ref:function e(t){n._textArea=t},rows:t.rows,style:t.style,value:this.state.value})}}]),r}(r.Component);y.defaultProps={validators:[]}},CogI:function(e,t,n){"use strict";var d=n("d6ZO"),r=n.n(d),f=n("rv2a"),p=n("gEaE");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function b(e,t){if(null==e)return{};var n=i(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function i(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var v=function(e){function t(){return a(this,t),s(this,h(t).apply(this,arguments))}return m(t,e),l(t,[{key:"render",value:function e(){var n=this,t=this.props,r=t.description,o=t.error,a=t.id,i=t.label,c=t.required,l=void 0!==c&&c,s=t.onLabelTouch,u=b(t,["description","error","id","label","required","onLabelTouch"]);return d.createElement(f.a,{description:r,error:o,id:a,label:i,required:l,onLabelTouch:s},d.createElement(p.M,Object.assign({},u,{hasError:!!o,id:a,ref:function e(t){n.textfield=t?t.textfield:null}})))}}]),t}(d.Component);t.a=v},DKBQ:function(e,t,n){"use strict";t.a=o;var r=n("S+Qs");function o(t,n){return function(e){return e(Object(r.a)("BoardSectionResource",{field_set_key:n||"board_page",section_id:t}))}}},DNL0:function(e,t){},GDBS:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("d6ZO"),s=n.n(r),i=n("RklN"),o=n.n(i),u=n("gEaE");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?m(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function a(){var e,n;c(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return y(m(m(n=f(this,(e=p(a)).call.apply(e,[this].concat(r))))),"setSearchFieldRef",function(e){n.searchField||(n.searchField=e)}),y(m(m(n)),"setFocus",function(){if(n.searchField){var e=Object(i.findDOMNode)(n.searchField);if(e instanceof HTMLElement){var t=e.querySelector("input");t instanceof HTMLInputElement&&t.focus()}}}),n}return b(a,e),d(a,[{key:"componentDidMount",value:function e(){this.props.focused&&window.requestAnimationFrame(this.setFocus)}},{key:"componentDidUpdate",value:function e(t){!t.focused&&this.props.focused&&this.setFocus()}},{key:"render",value:function e(){var t=this.props,n=t.accessibilityLabel,r=t.id,o=t.onBlur,a=t.onChange,i=t.onFocus,c=t.placeholder,l=t.value;return s.a.createElement(u.D,{accessibilityLabel:n,id:r,onBlur:o,onChange:a,onFocus:i,placeholder:c,ref:this.setSearchFieldRef,value:l})}}]),a}(r.Component)},GU18:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r);function c(e){var r=!1,t;return{promise:new Promise(function(t,n){e.then(function(e){return r?n({isCanceled:!0}):t(e)},function(e){return n(r?{isCanceled:!0}:e)})}),cancel:function e(){r=!0}}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e){return u(e)||s(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function b(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?v(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(t){var e,n;return n=e=function(e){function o(){var e,i;d(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(v(v(i=b(this,(e=h(o)).call.apply(e,[this].concat(n))))),"makeCancelablePromise",function(e,t){if(t){var n=i.cancelCallbackMap[t];n&&(n(),delete i.cancelCallbackMap[t])}var r=c(e),o=r.cancel,a=r.promise;return t?i.cancelCallbackMap[t]=o:i.cancelCallbacks.push(o),a}),g(v(v(i)),"cancelCallbacks",[]),g(v(v(i)),"cancelCallbackMap",{}),i}return m(o,e),p(o,[{key:"componentWillUnmount",value:function e(){var t=this;i(Object.keys(this.cancelCallbackMap).map(function(e){return t.cancelCallbackMap[e]})).concat(i(this.cancelCallbacks)).forEach(function(e){return e()}),this.cancelCallbacks=[],this.cancelCallbackMap={}}},{key:"render",value:function e(){return r.createElement(t,Object.assign({},this.props,{makeCancelablePromise:this.makeCancelablePromise}))}}]),o}(r.Component),g(e,"displayName","WithPromiseCancellation(".concat(t.displayName||t.name,")")),n}t.a=E},HEYN:function(e,t,n){"use strict";t.b=h,t.a=o;var l=n("VF/E"),s=n("Jw9X"),u=n("NmQ5"),r=n("ZtCB"),d=n.n(r),f=n("g5tP"),p=n("mZ/m"),b=n("S+Qs");function h(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function o(e){var i=e.boardId,t=e.name,n=e.nameSource,c=e.pinImport,r=0;"RECOMMENDATION"===n?r=1:"EDITED_RECOMMENDATION"===n&&(r=2);var o={board_id:i,initial_pins:c&&!c.all?c.pinIds:[],name:t,name_source:r};return function(a){return d.a.create("BoardSectionResource",o).callCreate({showError:!1}).then(function(e){var n=e.resource_response.data;a(h(i,n)),a(Object(s.a)({feedId:i,feedType:p.b.BOARD_SECTIONS,itemIds:[n.id],itemType:"board_section"})),a(Object(f.b)(i,"pin_count")),a(Object(b.f)("BoardSectionsRepinResource",{board_id:i}));var t=c||{all:!1,pinIds:[]},r=t.all,o=t.pinIds;return r?new Promise(function(e,t){return a(Object(u.a)({inverseSelection:!0,selectedPinIds:o,source:{boardId:i,sectionId:null},target:{boardId:i,sectionId:n.id}})).then(function(){return e(n)}).catch(t)}):(0<o.length&&a(Object(l.a)(p.b.BOARD_PINS,i)),n)})}}},HLDn:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var o=n("B0A7"),a=n("VF/E"),i=n("S+Qs"),c=["alphabetical","last_pinned_to","oldest","newest","custom"],r=25,l={name:"BoardsResource",key:"boardsResource",options:function e(t){var n=t.boardOrder,r=t.mixPublicSecret,o;return{privacy_filter:"all",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:t.username,page_size:25,group_by:r?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0}}},s=function e(t,n,r){return{privacy_filter:n?"secret":"public",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",username:t}},u=function e(r){return c.reduce(function(e,t){var n=[Object(a.a)("profileBoards",Object(o.c)(r,t))];return[!0,!1].forEach(function(e){n.push(Object(i.f)(l.name,l.options({username:r,boardOrder:t,mixPublicSecret:e})))}),e.concat(n)},[])}},JMBu:function(e,t,n){"use strict";var r=n("tQ0j"),a=n.n(r),o=n("/e0Y"),i=n("FJZF"),c=n("1zCC"),l={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog:function e(t){var n=t.ga_category||"share_twitter";o.a.trackEvent(n,"click");var r=l._getWindowUrl(t.tweet_path,t.tweet_text);c.a.open(r,l.DIALOG_WIDTH,l.DIALOG_HEIGHT)},_getWindowUrl:function e(t,n){var r="https://twitter.com/intent/tweet?via=pinterest",o={};return t&&(o.url=encodeURIComponent(i.a.absolutify(t))),n&&(o.text=encodeURIComponent(n)),a.a.reduce(o,function(e,t,n){return e+"&"+n+"="+t},r)}};t.a=l},JqyP:function(e,t,n){"use strict";var r=n("d6ZO"),i=n.n(r),o=n("2aok"),a=n.n(o),c=n("W/Cr"),l=n("XSNT"),s=n("gEaE"),u=n("+UuE"),d=function e(t){var n=t.link,r=t.grayscale,o=t.handleClick,a=t.handleFocus;return i.a.createElement("div",{className:"ShareLink"},i.a.createElement("div",{className:"link"},i.a.createElement("div",{className:"icon"},i.a.createElement(u.e,{size:30,grayscale:r})),i.a.createElement(l.a,{ref:function e(t){return t&&t.focus()},className:"Input linkField",value:n,onFocus:a}),i.a.createElement("div",{className:"cancelLink",onClick:o},i.a.createElement(s.n,{accessibilityLabel:c.a._("Close","close copy link"),icon:"cancel",bgColor:"white",color:"gray"}))))};d.defaultProps={grayscale:!1},t.a=d},Jw9X:function(e,t,n){"use strict";function r(e){return{type:"FEED_ITEMS_ADDED",payload:e}}t.a=r},LzMI:function(e,t,n){"use strict";function r(e){return{type:"PIN_BETTER_SAVE",payload:e}}function o(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function a(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}t.a=r,t.b=o,t.c=a},MH3C:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var o=n("BAXv"),r=function e(t,n){if(!n)return t;var r=new RegExp(/http(s?):/);if(!r.test(t)){var o=r.exec(n),a;if(o&&o.length)t=o[0]+t}return t},a=function e(t){var n=50,r=o.a.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION;return{clamped:50<t.length?t.slice(0,50).trim()+"…":t,full:t.length>r?t.slice(0,r):t}}},NCQM:function(e,t,n){"use strict";var r=n("d6ZO"),c=n.n(r),o=n("DUIN"),a=n("iSgY"),i=n("lip+"),l=n("BAXv"),s=n("W/Cr"),u=n("Y5gj"),d=n("ZtCB"),f=n.n(d),p=n("JyNp"),b=n("n9Oa"),h=n("vJNz"),m=n("HLDn"),y=n("S+Qs"),v=n("Qqx1"),g=n("gEaE"),E=n("MQ2h"),_=n.n(E);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){R(t,e,n[e])})}return t}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function k(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?T(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function x(e,t){return(x=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){var t=e.board,n=e.hovered,r=e.searchQuery,o=t.privacy===l.a.BoardPrivacy.SECRET;return c.a.createElement(g.b,{color:n?"lightGray":"white",display:"flex",padding:2,shape:"rounded"},c.a.createElement(g.b,{flex:"grow"},c.a.createElement(g.K,{bold:!0},Object(h.b)(r,t.name))),c.a.createElement(g.b,{display:"flex",flex:"none",direction:"row"},o&&c.a.createElement(a.a,{type:"secret"}),t.is_collaborative&&c.a.createElement(a.a,{type:"group"})))}var L=function(e){function n(e,t){var i;return S(this,n),R(T(T(i=k(this,P(n).call(this,e,t)))),"getSections",function(){var e=i.state.searchQuery,t=i.props.boardResource.data.all_boards;return e.length>=v.a?[{items:Object(b.a)(t,e)}]:[{items:t}]}),R(T(T(i)),"handleBoardCreate",function(a){return function(){var e=i.state.searchQuery;if(e){var t={name:e,privacy:l.a.BoardPrivacy.PUBLIC},n;f.a.create("BoardResource",t).callCreate().then(function(e){var t=e.resource_response.data,n=i.props,r=n.invalidateBoardResource,o=n.onBoardChosen;r(a),i.setState({selectedBoard:t}),o(t)})}}}),R(T(T(i)),"handleBoardSelected",function(e){i.props.onBoardChosen(e),i.setState({selectedBoard:e})}),R(T(T(i)),"handleSearchQueryUpdate",function(e){i.setState({searchQuery:e})}),R(T(T(i)),"renderRow",function(e){var t=e.item,n=e.hovered,r=i.state.searchQuery;return c.a.createElement(B,{board:t,hovered:n,searchQuery:r})}),i.state={searchQuery:"",selectedBoard:e.board},i}return I(n,e),j(n,[{key:"render",value:function e(){var t=this,n=this.props.boardResource,r=this.state,o=r.searchQuery,a=r.selectedBoard;return c.a.createElement(g.b,null,c.a.createElement(g.G,{accessibilityLabel:s.a._("loading board picker","accessibility text for loading spinner"),show:!n.isLoaded}),n.data&&c.a.createElement(i.a,null,function(e){return c.a.createElement(u.a,{dropdownValue:a?a.name:s.a._("Select a board"),onCreate:t.handleBoardCreate(e),onSearchQueryUpdate:t.handleSearchQueryUpdate,onSelect:t.handleBoardSelected,renderRow:t.renderRow,searchQuery:o,sections:t.getSections()})}))}}]),n}(r.Component);function D(e){var t=e.advertiser,n=e.viewer;return n.isAuth&&t&&t.owner_user_id!==n.id?{advertiser_id:t.id,username:t.owner_user_id}:{}}function M(n){return{invalidateBoardResource:function e(t){return t.username&&n(Object(y.f)("BoardsResource",Object(m.a)(t.username,!1)))}}}t.a=Object(E.compose)(Object(o.connect)(D,M),Object(p.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:function e(t){return O({pin_id:t.pinId,field_set_key:"board_picker",onlyFetchBoards:!0,username:t.username},t.advertiser_id&&t.username?{advertiser_id:t.advertiser_id,filter:"protected",username:t.username}:{})}},{allowStale:!1}))(L)},NmQ5:function(e,t,n){"use strict";t.b=s,t.a=u;var o=n("DKBQ"),r=n("VF/E"),f=n("Jw9X"),p=n("pOmq"),a=n("ZtCB"),b=n.n(a),i=n("g5tP"),h=n("mZ/m"),m=n("ar0l"),y=function e(t){return Object(r.a)(t.sectionId?h.b.SECTION_PINS:h.b.BOARD_PINS,t.sectionId||t.boardId)};function c(e,r){var t=e.inverseSelection,o=e.selectedPinIds,n=e.source,a=e.target;if(n.boardId===a.boardId&&(n.sectionId||null)===(a.sectionId||null))return Promise.reject();if(t){var i={board_id:n.boardId,new_board_id:a.boardId,old_section_id:n.sectionId||void 0,new_section_id:a.sectionId||void 0,pin_ids:o};return b.a.create("BulkEditSelectAllResource",i).callUpdate({showError:!1}).then(function(){return Promise.all([r(y(n)),r(y(a))])}).catch(m.a)}var c=function e(t,n){r(Object(p.a)({feedId:t.sectionId||t.boardId,feedType:t.sectionId?h.b.SECTION_PINS:h.b.BOARD_PINS,itemIds:o,itemType:"pin"})),r(Object(f.a)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?h.b.SECTION_PINS:h.b.BOARD_PINS,itemIds:o,itemType:"pin"}))};c(n,a);var l=function e(){return c(a,n)};if(a.boardId===n.boardId){if(a.sectionId){var s={section_id:a.sectionId,pins:o};return b.a.create("BoardSectionEditResource",s).callUpdate({showError:!1}).catch(function(e){l(),Object(m.a)(e)})}var u={section_id:n.sectionId,pins:o};return b.a.create("BoardSectionPinsResource",u).callDelete({showError:!1}).catch(function(e){l(),Object(m.a)(e)})}var d={board_id:a.boardId,section_id:a.sectionId||void 0,pin_ids:o};return b.a.create("BulkEditResource",d).callUpdate({showError:!1}).catch(function(e){l(),Object(m.a)(e)})}function l(e,t){var n=e.source,r=e.target;r.boardId!==n.boardId?(t(Object(i.b)(n.boardId,"pin_count")),t(Object(i.b)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t(Object(i.b)(r.boardId,"pin_count")),n.sectionId&&t(Object(o.a)(n.sectionId)),r.sectionId&&t(Object(o.a)(r.sectionId))}function s(o){return function(e){var t=o.selectedPinIds,n=o.source,r=o.target;e(Object(p.a)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?h.b.SECTION_PINS:h.b.BOARD_PINS,itemIds:t,itemType:"pin"})),e(Object(f.a)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?h.b.SECTION_PINS:h.b.BOARD_PINS,itemIds:t,itemType:"pin"})),l(o,e)}}function u(t){return function(e){return c(t,e).then(function(){return l(t,e)})}}},NyaW:function(e,t,n){"use strict";t.a=T;var r=n("d6ZO"),i=n.n(r),o=n("DUIN"),c=n("BAXv"),d=n("W/Cr"),a=n("i0Ug"),l=n("g5tP"),s=n("HLDn"),u=n("S+Qs"),f=n("MQ2h"),p=n.n(f),b=n("FrUj");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function m(e,t){if(null==e)return{};var n=y(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function y(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){k(t,e,n[e])})}return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function w(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?j(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(a){var e,t;return t=e=function(e){function o(){var e,u;g(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(j(j(u=w(this,(e=O(o)).call.apply(e,[this].concat(n))))),"state",{createBoardError:null,inputName:u.props.prefilledName||"",nameValidators:[Object(b.q)({message:d.a._("Don't forget to name your board!")}),Object(b.j)({max:c.a.MAX_CHARS_FOR_BOARD_TITLE})],nameValidatorErrors:[],privacy:u.props.isAdAccountOwner?c.a.BoardPrivacy.PUBLIC:c.a.BoardPrivacy.PROTECTED,saving:!1}),k(j(j(u)),"handleChangeName",function(e,t){var n=Object(b.t)(u.state.nameValidators,e);u.setState({inputName:e,nameValidatorErrors:n,createBoardError:null},function(){t&&u.handleCreate()})}),k(j(j(u)),"handleChangePrivacy",function(){var e=u.state.privacy===c.a.BoardPrivacy.SECRET?c.a.BoardPrivacy.PUBLIC:c.a.BoardPrivacy.SECRET;u.setState({privacy:e})}),k(j(j(u)),"handleCreate",function(){var e=u.state,t=e.inputName,n=e.privacy,r=u.props,o=r.createBoard,a=r.invalidateResource,i=r.onCreate,c=r.isAdAccountOwner,l=r.advertiser_id,s=v({privacy:n,name:t},c?{}:{protected:!0},!c&&l?{advertiser_id:l}:{});u.setState({saving:!0,
createBoardError:null}),o(s).then(function(e){u.setState({saving:!1}),i(e)}).catch(function(e){var t=d.a._("Uh oh! Something went wrong.");if(e.message){var n=e.message,r=e.message_detail;t=r?"".concat(n," ").concat(r):n}else"string"==typeof e&&(t=e);u.setState({saving:!1,createBoardError:t})}),a(n)}),u}return S(o,e),_(o,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){t.prefilledName&&this.setState({inputName:t.prefilledName})}},{key:"render",value:function e(){var t=this.props,n=t.createBoard,r=t.invalidateResource,o=m(t,["createBoard","invalidateResource"]);return i.a.createElement(a,Object.assign({onChangeBoardName:this.handleChangeName,onChangeBoardPrivacy:this.handleChangePrivacy,onBoardCreate:this.handleCreate},o,this.state))}}]),o}(r.Component),k(e,"displayName","WithBoardCreatePane(".concat(a.displayName||a.name,")")),t}function I(e){var t=e.advertiser,n=e.viewer,r=!t||n.isAuth&&t.owner_user_id===n.id,o=t&&t.id;return v({isAdAccountOwner:r},o?{advertiser_id:o}:{})}function x(n,r){return{invalidateResource:function e(t){n(Object(u.f)("BoardsResource",Object(s.a)(r.viewer.username,t===c.a.BoardPrivacy.SECRET)))},createBoard:function e(t){return n(Object(l.f)(t))}}}function T(e){return Object(f.compose)(a.a,Object(o.connect)(I,x),P)(e)}},Otfq:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var m=n("d6ZO"),r=n.n(m),o=n("RklN"),s=n.n(o),a=n("p58k"),y=n("gEaE");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){g(t,e,n[e])})}return t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?v(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){function r(e,t){var h;l(this,r),g(v(v(h=f(this,p(r).call(this,e,t)))),"setContainerRef",function(e){h.containerRef=e}),g(v(v(h)),"setSelectedItemRef",function(e){h.selectedItemRef=e}),g(v(v(h)),"handleIndexUpdate",function(e){var t=h.props.indexManager;h.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),g(v(v(h)),"handleSelectItem",function(r){return function(){var e=h.props,t=e.disabled,n=e.onSelectItem;t||n(r)}}),g(v(v(h)),"handleMouseEnter",function(a){return function(e){var t=e.event,n=h.props,r=n.disabled,o=n.indexManager;r||o.updateIndex(a)}}),g(v(v(h)),"handleMouseLeave",function(e){var t=e.event,n=h.props,r=n.disabled,o=n.indexManager;r||o.setInactive()}),g(v(v(h)),"renderItems",function(e,a){var t=h.props.renderItem,n,r=h.state.selectedIndex||{},i=r.row,o=r.section,c=e.customProps,l=void 0===c?{}:c,s=e.items,u=e.renderItem,d=l.isDisabled,f=void 0===d?function(e){return!1}:d,p=a===o,b=u||t;return b&&s.map(function(e,t){var n=f(e),r={section:a,row:t},o=p&&t===i;return m.createElement("div",{"data-test-id":"board-selection",key:t,ref:!n&&o&&h.setSelectedItemRef},n?b({item:e,hovered:o,sectionProps:l}):m.createElement(y.P,{onMouseEnter:h.handleMouseEnter(r),onMouseLeave:h.handleMouseLeave,onTouch:h.handleSelectItem(e),fullWidth:!1,shape:"rounded"},b({item:e,hovered:o,sectionProps:l})))})}),g(v(v(h)),"renderSections",function(){var e=h.props,n=e.renderSectionHeader,t;return e.sections.map(function(e,t){return m.createElement(y.b,{key:t},n&&n(e,t),h.renderItems(e,t))})});var n=h.props.indexManager;return h.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(h.handleIndexUpdate),h}return b(r,e),d(r,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var n;this.props.indexManager!==t.indexManager&&t.indexManager.setUpdateCallback(this.handleIndexUpdate)}},{key:"componentDidUpdate",value:function e(){var t=this.containerRef;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){var n=s.a.findDOMNode(this.selectedItemRef);if(!(n instanceof HTMLElement))return;var r=n.getBoundingClientRect(),o=r.top,a=r.bottom,i=t.getBoundingClientRect(),c=i.top,l;i.bottom<=a?n.scrollIntoView(!1):o<=c&&n.scrollIntoView(!0)}}},{key:"render",value:function e(){var t=this.props,n=t.grow,r=void 0!==n&&n,o=t.maxHeight;return m.createElement("div",{style:c({maxHeight:o,overflow:"auto",boxSizing:"border-box"},r?{flex:"1 1 auto",height:"100%",minHeight:0,minWidth:0}:void 0),ref:this.setContainerRef},this.renderSections())}}]),r}(m.Component)},Qqx1:function(e,t,n){"use strict";var s=n("d6ZO"),m=n.n(s),y=n("vJNz"),d=n("aC/n"),f=n("W/Cr"),r=n("9bGG"),p=n("gEaE");function o(e){var t=e.buttonLabel,n=e.isHovering,r=e.isRowItem,o=e.hasHoverState,a=e.hoverHandlers,i=e.name,c=e.onClick,l=i||t||f.a._("Create board");return s.createElement(p.P,{onMouseEnter:a.onMouseOver,onMouseLeave:a.onMouseLeave,onTouch:c},s.createElement(p.b,{alignItems:"center",color:o&&n?"lightGray":"white",display:"flex",flex:r?"shrink":"none",height:64,width:"100%"},s.createElement(p.b,{marginLeft:6,marginRight:3,"data-test-id":"createBoardButton"},s.createElement(p.n,{accessibilityLabel:f.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})),i?s.createElement(p.b,{margin:1},s.createElement(p.K,{inline:!0,overflow:"normal",__dangerouslyIncreaseLineHeight:!0}," ",f.a._("Create: ")," ")):null,s.createElement(p.K,{truncate:!0,align:"center",bold:!0,inline:!0,__dangerouslyIncreaseLineHeight:!0}," ",l," ")))}var b=Object(r.a)(o),h=n("p58k"),v=n("W0l8"),a=n("MSpZ"),i=n("4Gri"),g=n("Otfq");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function _(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?C(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return P});var k="",P=2,I=function(e){function o(){var e,h;l(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(C(C(h=_(this,(e=w(o)).call.apply(e,[this].concat(n))))),"state",{searchQuery:""}),j(C(C(h)),"handleSelectItem",function(e){var t=h.props,n=t.onCreate,r=t.onSelected,o;!e&&n?n(h.state.searchQuery):e&&r(e);(n||e)&&h.setState({searchQuery:""})}),j(C(C(h)),"handleSearchQueryInput",function(e){h.setState({searchQuery:e})}),j(C(C(h)),"renderSectionHeader",function(e,t){return e.title?m.a.createElement(p.b,null,0<t&&m.a.createElement(p.j,null),m.a.createElement(p.b,{deprecatedPadding:{x:3,y:1}},m.a.createElement(p.K,{size:"sm"},e.title))):null}),j(C(C(h)),"renderRow",function(e){var t=e.item,n=e.hovered,r=e.sectionProps,o=void 0===r?{}:r,a=h.props,i=a.boardSavedTo,c=a.isSelectMode,l=a.disabledRowId,s=h.state.searchQuery,u=o.inSectionSelection,d=void 0!==u&&u,f,p=i&&i.board===t.id?i&&i.state:null,b="board_section"===t.type;return m.a.createElement(y.a,{isSelectMode:c,disabled:t.id===l&&d,item:t,isSection:b,isWithinSectionPicker:d,saveState:p,searchQuery:s,selected:n})}),h}return O(o,e),E(o,[{key:"componentDidUpdate",value:function e(t){!t.isLoaded&&this.props.isLoaded&&this.setPWTLoadingEnd()}},{key:"setPWTLoadingEnd",value:function e(){var t=this.props.hasLoadError?3:1;a.a.sendEvent(new i.f({result:t}))}},{key:"render",value:function e(){var t=this.props,n=t.boardSavedTo,r=t.createButtonLabel,o=t.hasLowBoardCount,a=t.getSections,i=t.isLoaded,c=t.onCreate,l=t.pinId;if(i){var s=this.state.searchQuery,u=a(s);return this.indexManager=new h.a(u.map(function(e){return e.items})),this.indexManager.setSelectItem(this.handleSelectItem),m.a.createElement(p.b,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}}},!o&&m.a.createElement(p.b,null,m.a.createElement(p.b,{paddingX:6,marginBottom:4,marginTop:1},m.a.createElement(v.a,{disabled:!!n,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:s})),m.a.createElement(p.j,null)),m.a.createElement(g.a,{disabled:!!n,grow:!o&&!s,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:u}),m.a.createElement(p.j,null),c&&m.a.createElement(b,{buttonLabel:r,hasHoverState:!0,name:s,onClick:function e(){return c(s)}}),o&&l&&m.a.createElement(d.a,{onBoardSelected:c,pinId:l}))}return m.a.createElement(p.b,{deprecatedPadding:{y:5}},m.a.createElement(p.G,{accessibilityLabel:f.a._("loading section picker","accessibility label for the loading spinner the repin picker"),show:!0}))}}]),o}(s.Component),x=t.b=I},QuPB:function(e,t,n){"use strict";t.a=l;var o=n("d6ZO"),r=n.n(o),a=n("BAXv"),i=n("FJZF"),c=n("gEaE");function l(e){var t=e.url,n=e.description,r=e.color;return r=r||a.a.DEFAULT_IMAGELESS_PIN_COLOR,o.createElement(c.b,{shape:"rounded",height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:r}}},o.createElement(c.b,{maxHeight:200,padding:4,overflow:"hidden"},t&&o.createElement(c.b,{marginBottom:2},o.createElement(c.K,{color:"white",size:"xs"},i.a.parse(t).hostname||t)),o.createElement(c.b,{maxHeight:144},o.createElement(c.K,{bold:!0,color:"white",overflow:"normal",size:"lg"},n))))}},Svvu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("hlP+"),o=n.n(r),l=n("BVzu"),a=n("XZ9g"),s=n.n(a),i=n("/4D9"),u=n.n(i),d=n("W/Cr"),f=n("DLm7"),p=n("EAiy"),c;function b(){}Object.assign(b.prototype,o.a),Object.assign(b.prototype,{connect:function e(a,i){var c=this;(i=Object.assign({},{success:function e(){},error:function e(){},complete:function e(){}},i)).rerequest_facebook_email?u()().then(function(e){var t;e.default.ensureInit(function(e){e.login(function(e){var t=e.authResponse,n,r;t&&(n=(n=t.grantedScopes)?n.split(","):[],r=t.userID);var o=n.find(function(e){return"email"===e}),a={id:r};"connected"===e.status&&o?i.success(a):i.error(a),i.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},p.a)}):s()().then(function(e){var t,n=e.default.getWindowOptions(),r=window.open("/connect/"+a+"/","",n);if(!r)return l.default.showError(d.a._("You must enable popups!")),void i.error({network:a,alertedUpstream:!0});var o=f.a.setInterval(function(){r.closed&&(clearInterval(o),c.handleComplete({network:a,error_message:"Window closed."}))},1e3);c.once("connect:"+a,function(e){clearInterval(o),e.error_message?i.error(e):i.success(e),i.complete()})})},complete:function e(t){this.handleComplete(t)},handleComplete:function e(t){var n="connect:"+t.network,r;if("facebook"===t.network){var o=t.id;o&&"string"!=typeof o&&(t.error_message="Facebook id must be of string type")}this.trigger(n,t)}}),Object.assign(b,{instance:function e(){return c||(c=new b),c},FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy"}),window.addEventListener("message",function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&"social-connect-complete"===e.data.type&&b.instance().complete(e.data)}),t.default=b},T0l7:function(e,t,n){"use strict";t.c=i,t.d=c,t.a=u,t.b=d;var o=n("/e0Y"),l=n("Cjb7"),r=n("ZtCB"),s=n.n(r),a="collaborator_approve_invite";function i(e,t){return s.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function c(e,t){return s.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function u(n,r){return function(e){var t;return s.a.create("BoardInviteResource",{board_id:n,invited_user_id:r}).callUpdate().then(function(){o.a.trackEvent(a,"success"),l.a.instance.publish(n,"boardApprovedCollaboratorInvite",{userId:r})}).catch(function(){return o.a.trackEvent(a,"error")})}}function d(a,i,c){return function(e){var t=a.invited_user,n=a.status,r=a.board.id,o;return s.a.create("accepted"===n?"BoardCollaboratorResource":"BoardInviteResource",{ban:c,board_id:r,field_set_key:"boardEdit",invited_user_id:t.id}).callDelete({showError:!1}).then(function(){l.a.instance.publish(r,"boardWriteAccessUpdated"),c&&l.a.instance.publish(r,"boardBannedCollaborator"),i&&(l.a.instance.publish("currentUser","boardRemovedCollaboratorSelf"),l.a.instance.publish(r,"boardRemovedCollaboratorSelf"))})}}},"Td/c":function(e,t,n){"use strict";var u=n("d6ZO"),r=n.n(u),o=n("DUIN"),i=n("BAXv"),c=n("HEYN"),d=n("W/Cr"),f=n("XSNT"),p=n("hkVh"),a=n("kxCB"),l=n("MQ2h"),s=n.n(l),b=n("gEaE");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){C(t,e,n[e])})}return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function E(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?S(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function t(e){var a;return y(this,t),C(S(S(a=E(this,_(t).call(this,e)))),"onCreateSection",function(){var e=a.props,t=e.board,n=e.dispatch,r=e.completeCreateSectionAction,o=e.pinImport;return a.setState({isSaving:!0}),n(Object(c.a)({boardId:t.id,name:a.state.inputName.trim(),pinImport:o})).then(function(e){a.setState({isSaving:!1,newSection:e}),r(e)}).catch(function(e){a.setState({createError:e.message,isSaving:!1})})}),C(S(S(a)),"handleKeyDown",function(e){var t=a.state,n=t.createError,r=t.inputName;[i.a.KeyCode.ENTER,i.a.KeyCode.NUMPAD_ENTER].includes(e.which)&&!n&&r.trim()&&a.onCreateSection()}),C(S(S(a)),"handleChangeName",function(e){a.setState({createError:null,inputName:e})}),C(S(S(a)),"handleInputRef",function(e){a.setState({inputRef:e})}),a.state={createError:null,inputName:e.initialName||"",inputRef:null,newSection:null,isSaving:!1},a}return w(t,e),g(t,[{key:"componentDidUpdate",value:function e(t,n){var r=this.state,o=r.createError,a=r.inputRef;!a||n.inputRef&&!o||a.focus()}},{key:"render",value:function e(){var t=this.props,n=t.onClearModal,r=t.showTitle,o=t.positionRelative,a=this.state,i=a.createError,c=a.inputName,l=a.isSaving,s=!!c.trim()&&!i;return u.createElement(b.b,{xs:{display:"flexColumn"},color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:o?"relative":"absolute",shape:"rounded",width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}}},r&&u.createElement(b.b,{marginTop:3,paddingX:6,paddingY:3},u.createElement(b.K,{size:"xl",bold:!0},d.a._("Add section","Title in the add section modal"))),u.createElement(b.b,{padding:3},u.createElement(b.b,{marginBottom:2},u.createElement(b.q,{htmlFor:"sectionEditName"},u.createElement(b.K,{size:"sm",color:i?"red":"gray"},d.a._("Name","Board section name")))),u.createElement(b.b,null,u.createElement(f.a,{className:"boardCreateInput".concat(i?" error":""),id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:d.a._('Like "Lighting"',"Placeholder for board section name"),ref:this.handleInputRef,type:"text",value:c,style:m({border:"none",outline:"none",fontSize:15,marginBottom:5,padding:6,width:"95%",color:"#333"},i?{background:"#e6abad",border:"1px solid #e60023",borderRadius:3}:{})}))),u.createElement(b.j,null),u.createElement(b.b,{display:"flex",flex:"grow"}),u.createElement(b.j,null),u.createElement(b.b,{padding:6},i&&u.createElement(b.b,{marginBottom:3},u.createElement(b.K,{align:"center",bold:!0,color:"red",size:"sm"},i)),u.createElement(b.b,{display:"flex",justifyContent:"between"},u.createElement(b.c,{onClick:n,text:d.a._("Cancel","cancel section add"),inline:!0}),u.createElement(p.a,{disabled:!s||l,onClick:this.onCreateSection,submitting:l,text:d.a._("Add","add a new section")}))))}}]),t}(u.Component);t.a=Object(l.compose)(Object(o.connect)(),a.a)(j)},UVpX:function(e,t,n){"use strict";var o=n("hVsM"),a=n("SnoN"),i=n("BVzu"),c=n("6oHq"),l=n("ZIw6"),s=n("/e0Y"),u=n("W/Cr"),d=n("85jk"),f=n("EAiy"),p="publish_actions",b={checkFbTimelinePermission:function(o){var e=function e(t){t.api("/me/permissions",function(e){var t=e.data,n=!1,r;t&&(n=!!t.find(function(e){return e.permission===p&&"granted"===e.status}));n?o.success&&o.success():o.error&&o.error()})};c.default.ensureInit(e,f.a)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;var n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(n,r){c.default.ensureInit(function(e){var t;if(!b.fbConnectedAccountMatchesLoggedInAccount(e,r))return i.default.showError(u.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),n.error&&n.error(),void(n.complete&&n.complete());b.checkFbTimelinePermission({success:function e(){n.success&&n.success(),n.complete&&n.complete()},error:function e(){b.fbLogin(n)}})},f.a)},fbLogin:function(t){c.default.ensureInit(function(e){e.login(function(e){e.authResponse?b.checkFbTimelinePermission(t):t.error&&t.error(),t.complete&&t.complete()},{scope:p})},f.a)},shareFb:function(t){var e=t.ga_category||"share_facebook";s.a.trackEvent(e,"click");var n=t.dialog_options||{};n.callback=function(){var e=o.a.fromEventType(1300);t.object_id&&e.setObjectIdStr(t.object_id),a.a.getInstance().addEvent(e)};var r=n.object_type;r&&Object(d.a)("facebook_share_dialog_open_"+r),l.default.open(n)},getLocaleString:function(e){var t=e;switch(t=t.replace(/-/g,"_")){case"de":t="de_DE";break;case"fr":t="fr_FR";break;case"it":t="it_IT";break;case"ja":t="ja_JP";break;case"nl":t="nl_NL";break;case"tr":t="tr_TR";break;case"en_AU":t="en_US";break;case"es_419":case"es_AR":t="es_LA"}return t}};t.a=b},"VF/E":function(e,t,n){"use strict";function r(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}t.a=r},W0l8:function(e,t,n){"use strict";var r=n("d6ZO"),i=n.n(r),o=n("RklN"),c=n.n(o),l=n("BAXv"),s=n("W/Cr"),a=n("p58k"),u=n("gEaE");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?g(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function a(){var e,o;f(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(g(g(o=h(this,(e=m(a)).call.apply(e,[this].concat(n))))),"handleKeyDown",function(e){var t=o.props,n=t.disabled,r=t.indexManager;if(!n)switch(e.which){case l.a.KeyCode.ENTER:case l.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),r.select();break;case l.a.KeyCode.UP:e.preventDefault(),r.prev();break;case l.a.KeyCode.DOWN:e.preventDefault(),r.next()}}),o}return y(a,e),b(a,[{key:"componentDidMount",value:function e(){var t=this._input;if(t){var n=c.a.findDOMNode(t);if(n instanceof HTMLElement){var r=n.querySelector("input");r&&r.focus()}}}},{key:"render",value:function e(){var n=this,t=this.props,r=t.onChange,o=t.value;return i.a.createElement("div",{onKeyDown:this.handleKeyDown,style:{width:"100%"}},i.a.createElement(u.D,{accessibilityLabel:"",id:"pickerSearchField",onChange:function e(t){var n=t.value;return r(n)},placeholder:s.a._("Search","search bar placeholder text"),ref:function e(t){n._input=t},value:o}))}}]),a}(r.Component);t.a=_},W9T9:function(e,t,n){"use strict";t.a=o;var i=n("d6ZO"),r=n.n(i),c=n("W/Cr"),l=n("gEaE");function o(e){var t=e.commentsDisabled,n=e.onCommentChange,r=e.onPhotoChange,o=e.photosDisabled,a=e.isManagedView;return i.createElement(l.b,null,i.createElement(l.j,null),i.createElement(l.b,{md:{display:"flex"},justifyContent:"between",paddingX:a?0:4,paddingY:a?6:3},!a&&i.createElement(l.b,{xs:{column:12},md:{column:3},paddingY:2},i.createElement(l.K,{size:"sm"},c.a._("Comment and Photo Permissions"))),i.createElement(l.b,{xs:{column:12},md:{column:a?12:8}},i.createElement(l.b,{paddingY:1,display:"flex",alignItems:"center"},i.createElement(l.I,{onChange:n,id:"CommentSwitch",switched:!t}),i.createElement(l.b,{paddingX:2},i.createElement(l.q,{htmlFor:"CommentSwitch"},i.createElement(l.K,{size:"sm"},c.a._("Allow people to comment","Label for toggling comments on a pin in pin edit form"))))),i.createElement(l.b,{paddingY:1,alignItems:"center",display:"flex"},i.createElement(l.I,{onChange:r,id:"PhotoSwitch",switched:!o}),i.createElement(l.b,{paddingX:2},i.createElement(l.q,{htmlFor:"PhotoSwitch"},i.createElement(l.K,{size:"sm"},c.a._("Allow people to upload photos","Label for toggling photos on a pin in pin edit form"))))))))}},WxTF:function(e,t,n){"use strict";var u=n("d6ZO"),a=n.n(u),d=n("W/Cr"),i=n("XSNT"),r=n("IaRT"),o=n.n(r),c=n("skut"),l=n("pN+K"),f=n("5tOk"),p=n("gEaE");function b(e){var t=e.body,n=e.img,r=e.onClick,o=e.selected,a=e.title,i=e.username,c=e.valid,l=i||t,s=function e(t,n){if(i)return t?u.createElement(p.n,{icon:"check-circle",color:"red",accessibilityLabel:d.a._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites"),size:32}):u.createElement(p.b,{height:32,width:32,shape:"circle",dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}}});var r={text:d.a._("Sent","Sent a board collaborator invite"),color:"gray",size:"sm",disabled:!0,inline:!0};return t||(r.text=d.a._("Invite","Add board collaborator invite"),r.disabled=Boolean(!n)),u.createElement(p.c,r)};return u.createElement(p.b,{marginBottom:4},u.createElement(p.P,{onTouch:r},u.createElement(p.b,{display:"flex",justifyContent:"between",width:"100%"},u.createElement(p.b,{display:"flex"},n,u.createElement(p.b,{marginLeft:3,display:"flex",direction:"column"},u.createElement(p.b,{marginBottom:1},u.createElement(p.K,{bold:!0,size:"md",truncate:!0},a)),u.createElement(p.K,{size:"xs",truncate:!0},l))),s(o,c))))}function s(t,e,n){if("user_share_suggestion"===t.type||"user"===t.type){var r=u.createElement(p.a,{name:t.title||t.full_name,src:t.image_medium_url,size:"md"});return u.createElement(b,{img:r,onClick:function e(){return n(t)},selected:e,title:t.full_name,username:t.username})}if("email"===t.type){var o=t.id,a=t.valid,i=u.createElement(p.b,{shape:"circle",color:"lightGray",height:40,width:40,display:"flex",justifyContent:"center",alignItems:"center"},u.createElement(p.n,{color:"darkGray",icon:"envelope",size:20,accessibilityLabel:d.a._("Email icon","Email icon on board create modal")})),c=Object(f.c)(d.a._("Email {{ email }}"),{email:o}),l,s;return s=e?(l=d.a._("Done!","Text that lets the user know we sent the board invite email"),function e(){}):(l=a?d.a._("Click to send!","Text that lets the user know they can successfully send a board invite email"):d.a._("Keep typing!","Text that lets a user know the email they are typing is not valid yet"),function e(){return a?n(t):void 0}),u.createElement(b,{body:l,img:i,onClick:s,selected:e,title:c,valid:a})}}var h=n("T0l7");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function E(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?S(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n){var r=e.id;return t===n.findIndex(function(e){return e.id===r})}var k=function(e){function o(){var e,i;y(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(S(S(i=E(this,(e=_(o)).call.apply(e,[this].concat(n))))),"state",{selectedCollaborators:[],showSocialConnectPanel:!1,typeaheadSuggestions:[],value:""}),C(S(S(i)),"handleTextFieldChange",function(e){i.setState({value:e})}),C(S(S(i)),"handleCollaboratorClick",function(e){var t=e.id,n=e.type;i.isIdSelected[t]=!i.isIdSelected[t];var r,o=i.state.selectedCollaborators.concat([e]),a="email"===n?h.c:h.d;i.props.onSelectedCollaboratorsChange({id:t,resource:a}),i.setState({selectedCollaborators:o})}),C(S(S(i)),"handleTypeaheadSuggestionsChange",function(e){i.setState({typeaheadSuggestions:e})}),C(S(S(i)),"isIdSelected",{}),i}return w(o,e),g(o,[{key:"render",value:function e(){var n=this,t=this.state.value,r,o=(""===t?this.props.shareSuggestions:this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:t,valid:Object(f.g)(t)}).concat(this.props.shareSuggestions).filter(j)).map(function(e,t){return s(e,n.isIdSelected[e.id],n.handleCollaboratorClick)}).map(function(e,t){return a.a.createElement("li",{key:t},e)});return a.a.createElement(p.b,{display:"flex",direction:"column",height:"100%"},a.a.createElement(p.b,{paddingX:3,marginBottom:4,marginTop:3},a.a.createElement(p.K,{size:"md"},d.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create"))),a.a.createElement(p.b,{paddingX:3,marginBottom:4,width:"100%"},a.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:{borderRadius:"4px"}},color:"lightGray",flex:"grow",display:"flex",alignItems:"center",height:40,position:"relative"},a.a.createElement(p.b,{paddingX:4,height:"100%",position:"absolute",top:!0,left:!0,display:"flex",alignItems:"center"},a.a.createElement(p.n,{accessibilityLabel:"",icon:"search",size:20})),a.a.createElement(c.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:t},a.a.createElement(i.a,{className:"SearchBoxInput",onChange:this.handleTextFieldChange,placeholder:d.a._("Search by name or email"),value:t})))),a.a.createElement(p.b,{paddingX:3,overflow:"scrollY"},a.a.createElement("ul",null,o)))}}]),o}(u.Component);C(k,"defaultProps",{shareSuggestions:[]});var P=t.a=Object(l.b)({name:"ShareSuggestionsResource",key:"shareSuggestions"},{allowStale:!1})(k)},XSNT:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("d6ZO"),o=n.n(r),a=n("IaRT"),i=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function r(e,t){var n;return l(this,r),m(h(h(n=d(this,f(r).call(this,e,t)))),"handleChange",function(e){n.props.onChange&&n.props.onChange(e.target.value),n.setState({value:e.target.value,hasChanged:!0})}),n.state={isFocused:n.props.focused||!1,value:n.props.value,hasChanged:void 0!==n.props.value},n}return p(r,e),u(r,[{key:"componentDidMount",value:function e(){this.state.isFocused&&this._input.focus()}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.setState({value:t.value})}},{key:"getId",value:function e(){return this.props.id}},{key:"getValue",value:function e(){return this.state.value}},{key:"focus",value:function e(){this._input.focus()}},{key:"render",value:function e(){var n=this;return o.a.createElement("input",{autoComplete:this.props.autoComplete,className:this.props.className,disabled:this.props.disabled?"disabled":"",id:this.props.id,name:this.props.name,onBlur:this.props.onBlur?this.props.onBlur.bind(this):null,onChange:this.handleChange,onClick:this.props.onClick?this.props.onClick.bind(this):null,onFocus:this.props.onFocus?this.props.onFocus.bind(this):null,onKeyDown:this.props.onKeyDown?this.props.onKeyDown.bind(this):null,placeholder:this.props.placeholder,ref:function e(t){n._input=t},style:this.props.style,type:this.props.type,value:this.state.value||""})}}]),r}(r.Component);y.defaultProps={type:"text"}},XZ9g:function(e,t,n){e.exports=function(){return new Promise(function(t){n.e(73).then(function(e){t(n("ZIw6"))}.bind(null,n)).catch(n.oe)})}},Y5gj:function(e,t,n){"use strict";var b=n("d6ZO"),r=n.n(b),h=n("W/Cr"),m=n("p58k"),y=n("W0l8"),o=n("9bGG"),v=n("Otfq"),g=n("gEaE");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function a(){var e,o;i(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(p(p(o=s(this,(e=u(a)).call.apply(e,[this].concat(n))))),"state",{showFlyout:!1}),E(p(p(o)),"setContainerRef",function(e){o.containerRef=e}),E(p(p(o)),"handleCreate",function(){o.hideFlyout();var e=o.props.onCreate;e&&e()}),E(p(p(o)),"handleSelectItem",function(e){o.hideFlyout();var t=o.props,n=t.onSelect,r=t.onCreate;e?n(e):r&&r()}),E(p(p(o)),"handleDropdownTouch",function(){o.setState(function(e){return{showFlyout:!e.showFlyout}})}),E(p(p(o)),"handleHideFlyout",function(e){o.containerRef&&e.target instanceof HTMLElement&&!o.containerRef.contains(e.target)&&o.hideFlyout()}),E(p(p(o)),"hideFlyout",function(){var e;(0,o.props.hoverHandlers.onMouseLeave)(),o.setState({showFlyout:!1})}),o}return d(a,e),l(a,[{key:"componentDidMount",value:function e(){document.addEventListener("click",this.handleHideFlyout)}},{key:"componentWillUnmount",value:function e(){document.removeEventListener("click",this.handleHideFlyout)}},{key:"render",value:function e(){var t=this.props,n=t.dropdownValue,r=t.hoverHandlers,o=r.onMouseOver,a=r.onMouseLeave,i=t.isHovering,c=t.onCreate,l=t.onSearchQueryUpdate,s=t.renderRow,u=t.searchQuery,d=t.sections,f=this.state.showFlyout;this.indexManager=new m.a(d.map(function(e){return e.items})),this.indexManager.setSelectItem(this.handleSelectItem);var p=!u.trim();return b.createElement("div",{ref:this.setContainerRef},b.createElement(g.P,{onMouseEnter:o,onMouseLeave:a,onTouch:this.handleDropdownTouch,fullWidth:!1,shape:"rounded"},b.createElement(g.b,{alignItems:"center",color:i?"lightWash":"lightGray",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:3,shape:"rounded"},b.createElement(g.b,{display:"flex",flex:"grow"},b.createElement(g.K,{bold:!0},n)),b.createElement(g.n,{icon:"arrow-down",size:14,color:"darkGray",accessibilityLabel:""}))),f&&b.createElement(g.b,{position:"relative"},b.createElement(g.b,{shape:"rounded",color:"white",display:"flex",direction:"column",overflow:"hidden",position:"absolute",width:"100%",dangerouslySetInlineStyle:{__style:{border:"1px solid #efefef",zIndex:1}}},b.createElement(g.b,null,b.createElement(g.b,{display:"flex",padding:2,marginLeft:-1,marginRight:-1},b.createElement(g.b,{display:"flex",flex:"grow",paddingX:1},b.createElement(y.a,{hideIcon:!0,indexManager:this.indexManager,onChange:l,value:u})),c&&b.createElement(g.b,{paddingX:1},b.createElement(g.c,{disabled:p,inline:!0,onClick:this.handleCreate,text:h.a._("Create","board or section dropdown create button")})))),b.createElement(v.a,{indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:s,sections:d}))))}}]),a}(b.Component);t.a=Object(o.a)(_)},ZIw6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("tQ0j"),u=n.n(r),o=n("WjSu"),d=n("6oHq"),a=n("ZtCB"),f=n.n(a),p=n("FJZF"),b=n("EAiy"),i=20,h=580,m=400,y={open:function e(n){var t=u.a.pick(n,y._validParams),r=y._getDialogType(n),o=y.generateFbRef(),a=n.object_type&&n.object_id&&"feed"===r,i=p.a.absolutify(n.path),c=p.a.getQueryStringParams();if(c.ptrf&&(i=p.a.appendQueryString(i,{ptrf:c.ptrf})),a&&(i=p.a.appendQueryString(i,{fb_ref:o})),"feed"===r){var l=y.getWindowOptions(n.width||h,n.height||m),s="http://www.facebook.com/sharer/sharer.php?u="+i;t.picture&&(s+="&picture="+t.picture),t.name&&(s+="&title="+t.name),t.description&&(s+="&description="+t.description),t.caption&&(s+="&caption="+t.caption),window.open(encodeURI(s),"sharer",l)}else"send"===(t.method=r)?t.link=i:"share"===r&&(t.href=i),d.default.ensureInit(function(e){e.getLoginStatus(function(){e.ui(t,function(e){if(a&&e&&e.post_id){var t=f.a.create("LogFacebookFeedShare",{});t.options={object_type:n.object_type,object_id:n.object_id,fb_ref:o},t.callCreate({showError:!1})}n.callback&&n.callback(e)})})},b.a)},_validParams:["description","name","picture","to","href","caption"],_validOptions:["send","feed","share"],generateFbRef:function e(){for(var t="";t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return(b.a.id||o.a.instance.unauth_id)+":"+t},_getDialogType:function e(t){var n,r;return u.a.contains(y._validOptions,t.type)?t.type:"feed"},getWindowOptions:function e(t,n){var r=t||h,o=n||m,a=screen.width,i=screen.height,c,l;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+r+",height="+o+",left="+Math.round((a-r)/2)+",top="+(o<i?Math.round((i-o)/2):0)}};t.default=y},"aC/n":function(e,t,n){"use strict";var r=n("d6ZO"),c=n.n(r),s=n("gEaE");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?b(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function a(){var e,t;i(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(b(b(t=u(this,(e=d(a)).call.apply(e,[this].concat(r))))),"state",{isHovering:!1}),h(b(b(t)),"onHover",function(){t.setState({isHovering:!0})}),h(b(b(t)),"offHover",function(){t.setState({isHovering:!1})}),t}return f(a,e),l(a,[{key:"render",value:function e(){var t=this.props,n=t.name,r=t.selected,o=t.image,a;return t.inFlyoutExp?c.a.createElement(s.b,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover},c.a.createElement(s.b,null,c.a.createElement(s.u,{height:40,width:40,shape:"rounded"},this.state.isHovering&&o?c.a.createElement(s.p,{alt:"",color:"",fit:"cover",naturalHeight:o.height,naturalWidth:o.width,src:o.url}):c.a.createElement(s.b,{color:"lightGray",height:40,width:40}))),c.a.createElement(s.b,{padding:2},c.a.createElement(s.K,{bold:!0,size:"xl"},n))):c.a.createElement(s.b,{alignItems:"center",color:r?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2},c.a.createElement(s.b,null,c.a.createElement(s.n,{color:r?"darkGray":"gray",icon:"add",accessibilityLabel:""})),c.a.createElement(s.b,{marginLeft:3},c.a.createElement(s.K,{color:r?"darkGray":"gray",bold:!0,size:"lg"},n)))}}]),a}(r.Component),y=n("W/Cr"),v=n("MSpZ"),g=n("pN+K"),E=n("4Gri"),_=n("MQ2h"),w=n.n(_),O=n("y2lE");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function P(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?R(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=-1,D=function(e){function t(e){var l;return C(this,t),B(R(R(l=P(this,I(t).call(this,e)))),"_processSuggestions",function(e){return e&&e.length?e.map(function(e){return e.title}):[]}),B(R(R(l)),"handleClick",function(e){var t=l.state,n=t.selectedIndex,r=t.suggestedBoardsNames,o=l.props,a=o.contextLog,i=o.onBoardSelected,c=o.oneTapFlyout;i(r[n],c||!1),a(101,{component:13025,element:23})}),B(R(R(l)),"handleMouseEnter",function(e){l.setState({selectedIndex:e})}),B(R(R(l)),"handleMouseLeave",function(){l.setState({selectedIndex:-1})}),B(R(R(l)),"renderSuggestionRow",function(e,t){var n=l.state.selectedIndex===t;return c.a.createElement("li",{key:t},c.a.createElement(s.P,{onTouch:function e(){return l.handleClick(t)},onMouseEnter:function e(){return l.handleMouseEnter(t)},onMouseLeave:l.handleMouseLeave},c.a.createElement(m,{selected:n,name:e,inFlyoutExp:l.props.inFlyoutExp,image:l.props.image})))}),l.state={selectedIndex:-1,suggestedBoardsNames:l._processSuggestions(e.boards)},l}return x(t,e),k(t,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.setState({suggestedBoardsNames:this._processSuggestions(t.boards)})}},{key:"componentDidUpdate",value:function e(t){!t.resourceLoaded&&this.props.resourceLoaded&&this.props.inFirstBoardCreateGestaltExp&&this.setPWTLoadingEnd()}},{key:"setPWTLoadingEnd",value:function e(){var t=this.props.error?3:1;v.a.sendEvent(new E.f({result:t}))}},{key:"renderGestaltBoardSuggestionList",value:function e(){var t=y.a._("Suggested board names","text above suggested board names list");return c.a.createElement(s.b,null,c.a.createElement(s.b,{marginTop:5,marginLeft:6,marginBottom:3},c.a.createElement(s.K,{size:"md"},y.a._("Suggested board names"))),c.a.createElement("ul",null,this.state.suggestedBoardsNames.map(this.renderSuggestionRow)))}},{key:"renderPreviewBoardSuggestionList",value:function e(){return c.a.createElement("div",null,c.a.createElement("ul",null,this.state.suggestedBoardsNames.map(this.renderSuggestionRow)))}},{key:"render",value:function e(){var t=this.props,n=t.inFirstBoardCreateGestaltExp,r=t.inFlyoutExp,o=t.minHeight,a;if(!t.resourceLoaded)return c.a.createElement(s.b,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:o||""},c.a.createElement(s.G,{accessibilityLabel:y.a._("Loading board suggestions","Accesibility label for loading board suggestions"),show:!0}));var i=this.state.suggestedBoardsNames;return i&&i.length?r?this.renderPreviewBoardSuggestionList():n?this.renderGestaltBoardSuggestionList():c.a.createElement(s.b,null,c.a.createElement(s.b,{marginTop:2,paddingX:5},c.a.createElement(s.K,null,y.a._("Suggested board names"))),c.a.createElement("ul",null,i.map(this.renderSuggestionRow))):null}}]),t}(r.Component),M=t.a=Object(_.compose)(Object(g.b)({name:"BoardTitleSuggestionsResource",options:function e(t){var n;return{pin_id:t.pinId}},key:"boards"}),O.a)(D)},ar0l:function(e,t,n){"use strict";t.a=s;var r=n("BVzu"),o=n("W/Cr"),a=2171,i=2172,c=2173;function l(e){switch(e.api_error_code){case a:case i:case c:return o.a._("Please wait until the previous board action finishes.");default:return e.message}}function s(e){r.default.showError(l(e))}},g5tP:function(e,t,n){"use strict";t.h=m,t.i=y,t.b=v,t.j=E,t.f=_,t.e=w,t.m=O,t.d=S,t.g=j,t.c=k,t.a=I,t.l=T,t.k=R;var o=n("/e0Y"),r=n("VF/E"),a=n("ZtCB"),i=n.n(a),c=n("mZ/m"),l=n("Cjb7"),s=n("HLDn"),u=n("S+Qs");function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}return t}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p="board_create",b="board_delete",h="board_edit";function m(){return{type:"BOARDS_FETCH_ALL_IF_NEEDED",payload:{}}}function y(){return{type:"BOARDS_FETCH_LAST_PINNED_TO_IF_NEEDED",payload:{}}}function v(e,t){return Object(u.a)("BoardResource",{board_id:e,field_set_key:t})}function g(){var e,t,n;return{type:"BOARD_CREATE_COMPLETE",payload:{options:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},board:1<arguments.length?arguments[1]:void 0},error:2<arguments.length?arguments[2]:void 0}}function E(){return function(t,e){var n,r=e().viewer;r.isAuth&&Object(s.b)(r.username).forEach(function(e){t(e)})}}function _(e){var r=d({},e);return function(n){return n({type:"BOARD_CREATE",payload:{board:e}}),i.a.create("BoardResource",r).callCreate().then(function(e){o.a.trackEvent(p,"success");var t=e.resource_response.data;return t&&(l.b.publish("currentUser","boardCreated",t),n(E()),n(g(r,t))),t}).catch(function(e){throw o.a.trackEvent(p,"error"),e})}}function w(){var e,t,n;return{type:"BOARD_UPDATE_COMPLETE",payload:{options:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},board:1<arguments.length?arguments[1]:void 0},error:2<arguments.length?arguments[2]:void 0}}function O(r){return function(t){var n={board_id:r.id,name:r.name,description:r.description,category:r.category,privacy:r.privacy,collab_board_email:r.collab_board_email,collaborator_invites_enabled:r.collaborator_invites_enabled};return t({type:"BOARD_UPDATE",payload:{boardUpdateOptions:n}}),i.a.create("BoardResource",n).callUpdate().then(function(e){o.a.trackEvent(h,"success"),t(w(n,r))}).catch(function(e){throw o.a.trackEvent(h,"error"),e})}}function S(e,t){return{type:"BOARD_UPDATE_COLLABORATION_SETTINGS",payload:{boardId:e,collaboratorRequestsEnabled:t}}}function C(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function j(t){return function(e){return e({type:"BOARD_DELETE",payload:{boardId:t}}),i.a.create("BoardResource",{board_id:t}).callDelete().then(function(){o.a.trackEvent(b,"error"),l.b.publish("currentUser","boardDeleted",t),e(C(t))}).catch(function(e){throw o.a.trackEvent(b,"error"),e})}}function k(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function P(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}function I(t){return function(e){return e(P(t)),i.a.create("BoardArchiveResource",{boardId:t}).callUpdate()}}function x(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}function T(t){return function(e){return e(x(t)),i.a.create("BoardArchiveResource",{boardId:t}).callDelete()}}function R(t,n){return function(e){return i.a.create("BoardsMergeResource",{source_board_id:t,target_board_id:n}).callUpdate().then(function(){return Promise.all([e(C(t)),e(v(n,"pin_count")),e(Object(r.a)(c.b.BOARD_SECTIONS,n))])})}}},hkVh:function(e,t,n){"use strict";t.a=d;var a=n("d6ZO"),r=n.n(a),i=n("gEaE");function c(e,t){if(null==e)return{};var n=l(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}var o={__style:{borderRadius:4}},s={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function u(){return a.createElement(i.b,{alignItems:"center",color:"red",dangerouslySetInlineStyle:o,display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%"},a.createElement(i.b,{dangerouslySetInlineStyle:s,display:"inlineBlock",height:18,position:"relative",shape:"circle",width:18}))}function d(e){var t=e.disabled,n=e.submitting,r=e.text,o=c(e,["disabled","submitting","text"]);return a.createElement(i.b,{display:"flex",position:"relative"},n&&a.createElement(u,null),a.createElement(i.c,Object.assign({},o,{inline:!0,color:"red",type:"submit",text:r,disabled:t||n})))}},iSgY:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("W/Cr"),i=n("gEaE");function c(e){var t,n={group:{accessibilityLabel:a.a._("group board","Board picker group board icon"),icon:"people"},secret:{accessibilityLabel:a.a._("secret board","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:a.a._("board with sections","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:a.a._("board with sections","Board picker board with sections icon"),icon:"arrow-down"}}[e.type];return r.createElement(i.b,{marginLeft:1},r.createElement(i.n,{accessibilityLabel:n.accessibilityLabel,icon:n.icon,size:14}))}t.a=c},"j1/O":function(e,t,n){"use strict";var r=n("hlP+"),o=n.n(r),a=n("g1tx"),i=n("ZtCB"),c=n.n(i),l=n("MSpZ"),s=n("EAiy"),u=5,d=l.a.findHandlerByName("search_autocomplete_render"),f=function e(t){t=t||{},this.tags=t.tags,this.enable_recent_queries=!!t.enable_recent_queries,this.minimum_term_character_length=t.minimum_term_character_length||0,this.bypass_lru_cache=t.bypass_lru_cache;var n={tags:t.tags,pin:t.pin_id},r=t.num_places;r?n.num_places=r:n.count="count"in t?t.count:5,t.exclude_non_followers&&(n.exclude_non_followers=!0),t.field_set_key&&(n.field_set_key=t.field_set_key),t.pin_scope&&(n.pin_scope=t.pin_scope);var o="TypeaheadResource";t.resource_name&&(o=t.resource_name),this.searchResource=c.a.create(o,n),this.itemsCache=new a.a};Object.assign(f.prototype,o.a),Object.assign(f.prototype,{search:function e(t,n){var r;if(!t&&"pinners_and_contacts"===this.tags)return this.abortSearch(),this.publishData(t,[],{},n);if(!t&&s.a.isLimitedLogin())return this.abortSearch(),this.publishData(t,[],{},n);if(!t&&this.enable_recent_queries&&s.a&&s.a.isAuthenticated())r="recent_search";else{var o=this.bypass_lru_cache?{}:this.itemsCache.get(t);if(o){var a=o.items;if(a&&a.length){this.abortSearch();var i=o.hint;return void this.publishData(t,a,i,n)}}}t.length>=this.minimum_term_character_length?this.fetch(t,r,n):this.publishData(t,[],{},n)},getResource:function e(){return this.searchResource},abortSearch:function e(){this.trigger("typeaheadSearchAbort"),this.getResource().abort()},publishData:function e(t,n,r,o){var a={term:t,items:n,hint:r};this.trigger("data",a),o&&o(a)},setAutocompleteScope:function e(t){this.getResource().set("autocompleteScope",t)},fetch:function e(a,t,i){var c=this,n=null,r=null;d&&d.hasActiveStopwatch()&&(n=d._currTraceId,r=d._currTimer&&d._currTimer.spanId);var o=this.getResource();if(o.isCalling()){var l=o.get("term");if(a===l)return;this.abortSearch()}""!==this.tags&&(this.trigger("typeaheadSearchStart",a),o.set("term",a),o.set("tags",t||this.tags),o.resetBookmark(),o.callGet({showError:!1,tracingParams:{traceId:n,parentSpanId:r}}).then(function(e){var t=e.resource_response.data,n=t.items,r=t.hint||{},o={hint:r,items:n};c.cacheData(a,o),c.publishData(a,n,r,i)},function(e){c.trigger("fetchError",e)}),this.warm=!0)},removeCacheForTerm:function e(t){this.itemsCache.remove(t)},cacheData:function e(t,n){this.itemsCache.set(t,n)},prefetch:function e(){var t;this.warm||(c.a.create("TypeaheadPrepareResource").callGet({showError:!1}),this.warm=!0)}}),t.a=f},jnRL:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t,n){return{type:"MOST_RECENT_BOARD",payload:{id:t,name:n}}},o=void 0},"lip+":function(e,t,n){"use strict";var r=n("DUIN"),o=function e(t){var n,r;return(0,t.children)(t.viewer)},a=function e(t){var n;return{viewer:t.viewer}};t.a=Object(r.connect)(a)(o)},m1HD:function(e,t,n){"use strict";n.d(t,"b",function(){return C});var i=n("d6ZO"),r=n.n(i),o=n("DUIN"),c=n("W/Cr"),l=n("FTnl"),a=n("MQ2h"),s=n.n(a),u=n("suNN"),d=n("LzMI"),f=n("+B8E"),p=n("y2lE");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function v(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?w(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=5e3,C=function e(t){var n=t.boardId,r=t.boardUrl,o=t.postRepinMoreIdeasUpsell,a=t.requestContext;if(!r)return!1;var i=o.recentSaves,c;if(o.recentUpsell[n])return!1;var l=i.findIndex(function(e){return e.boardId!==n}),s;return 3<=(-1===l?i.length:l)+1&&new f.c(a,"web_use_cases_new_ideas_post_repin_upsell2").enabled()},j=function(e){function a(){var e,r;h(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return O(w(w(r=v(this,(e=g(a)).call.apply(e,[this].concat(n))))),"handleClick",function(){var e=r.props,t=e.boardId,n;(0,e.contextLog)(101,{component:20,element:10805,objectId:t})}),r}return E(a,e),y(a,[{key:"componentDidMount",value:function e(){var t;(0,this.props.toastShown)()}},{key:"render",value:function e(){var t=this.props,n=t.boardName,r=t.boardUrl,o=t.onHide;return i.createElement(l.a,{duration:S,onHide:o,text:Object(u.b)(c.a._("Find more ideas for {{ boardName }}"),{boardName:n}).join(""),href:"".concat(r,"more_ideas/?ideas_referrer=").concat(this.referrerType),onClick:this.handleClick})}},{key:"referrerType",get:function e(){return this.props.isRepin?16:15}}]),a}(i.PureComponent);t.a=Object(a.compose)(Object(o.connect)(null,function(t,n){return{toastShown:function e(){return t(Object(d.c)(n.boardId))}}}),p.a)(j)},mSxZU:function(e,t,n){"use strict";var i=n("d6ZO"),y=n.n(i),r=n("DUIN"),v=n("vBru"),g=n("wUWH"),p=n("HcmU"),b=n("DKBQ"),a=n("0XFc"),E=n("biwq"),_=n("W/Cr"),w=n("R6a3"),c=n("m1HD");function h(e){return{type:"PIN_CREATED_VIA_CREATOR_CHECKLIST",payload:{pin_created_via_creator_checklist:e}}}var O=n("1Xwf");function m(e,t){return{type:"PIN_SAVE",payload:{pinId:e,saved:t}}}var l=n("UVpX"),s=n("Svvu"),u=n("EAiy"),o=n("pN+K"),d=n("MQ2h"),f=n.n(d),S=n("gEaE");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function I(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?B(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){function a(){var e,n;j(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return L(B(B(n=I(this,(e=x(a)).call.apply(e,[this].concat(r))))),"state",{isFacebookChecked:n.props.resourceLoaded&&!!n.props.userSocial&&n.props.userSocial.facebook_publish_stream_enabled,isTwitterChecked:n.props.resourceLoaded&&!!n.props.userSocial&&n.props.userSocial.twitter_publish_enabled}),L(B(B(n)),"handleTwitterCheckboxChanged",function(){var e=!n.state.isTwitterChecked;n.setState({isTwitterChecked:e}),n.props.onSocialConnect(s.default.TWITTER,e)}),L(B(B(n)),"handleFacebookCheckboxChanged",function(){var t=!n.state.isFacebookChecked;t?l.a.maybeRequestFbTimelinePermission({success:function e(){n.setState({isFacebookChecked:!0}),u.a.set("facebook_publish_stream_enabled",t),n.props.onSocialConnect(s.default.FACEBOOK,t)},error:function e(){n.setState({isFacebookChecked:!1}),u.a.set("facebook_publish_stream_enabled",!1),n.props.onSocialConnect(s.default.FACEBOOK,t)}}):(n.setState({isFacebookChecked:!1}),u.a.set("facebook_publish_stream_enabled",!1),n.props.onSocialConnect(s.default.FACEBOOK,t))}),L(B(B(n)),"renderFacebookShare",function(){return i.createElement(S.b,{display:"flex",alignItems:"center",marginLeft:2},i.createElement(S.e,{checked:n.state.isFacebookChecked,id:"share_facebook",onChange:n.handleFacebookCheckboxChanged,size:"sm"}),i.createElement(S.q,{htmlFor:"share_facebook"},i.createElement(S.b,{marginLeft:2},i.createElement(S.K,null,_.a._("Post to Facebook")))))}),L(B(B(n)),"renderTwitterShare",function(){return i.createElement(S.b,{display:"flex",alignItems:"center",marginLeft:5},i.createElement(S.e,{checked:n.state.isTwitterChecked,id:"share_twitter",onChange:n.handleTwitterCheckboxChanged,size:"sm"}),i.createElement(S.q,{htmlFor:"share_twitter"},i.createElement(S.b,{marginLeft:2},i.createElement(S.K,null,_.a._("Post to Twitter")))))}),n}return T(a,e),P(a,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var n=t.resourceLoaded,r=t.userSocial;n&&r&&this.setState({isFacebookChecked:!!r.facebook_publish_stream_enabled,isTwitterChecked:!!r.twitter_publish_enabled})}},{key:"render",value:function e(){var t=this.props,n=t.resourceLoaded,r=t.userSocial;if(!n||!r)return null;var o=r.facebook_url,a=r.twitter_url;return!(!o&&!a)&&i.createElement(S.b,{display:"flex",padding:2},o&&this.renderFacebookShare(),a&&this.renderTwitterShare())}}]),a}(i.Component),M=Object(d.compose)(Object(r.connect)(function(e){var t=e.viewer;return{userId:t.isAuth?t.id:""}}),Object(o.b)({name:"UserResource",key:"userSocial",options:function e(t){return{user_id:t.userId,field_set_key:"social_connect"}}}))(D),A=n("Cjb7"),F=n("ZtCB"),N=n.n(F),H=n("DNL0"),U=n.n(H),W=n("6oHq"),z=n("sYje"),K=n("JqyP");function Q(e){var t,n,r="-7 -7 30 30",o;switch(e.name){case"facebook":o=i.createElement("circle",{cx:"8",cy:"8",r:"15",fill:"#3B5998"}),n=i.createElement("path",{fill:"#fff",d:"M9.267 16V8.702h2.506l.376-2.845H9.267V4.041c0-.823.234-1.384 1.442-1.384l1.541-.001V.112A21.09 21.09 0 0 0 10.005 0C7.783 0 6.262 1.325 6.262 3.76v2.097H3.75v2.845h2.512V16h3.005z"});break;case"messenger":o=i.createElement("circle",{cx:"8",cy:"8",r:"15",fill:"#1DA1F2"}),n=i.createElement("path",{fill:"#fff",d:"M8 0C3.582 0 0 3.316 0 7.407c0 2.332 1.163 4.41 2.981 5.769V16l2.724-1.495c.727.201 1.497.31 2.295.31 4.418 0 8-3.317 8-7.408C16 3.317 12.418 0 8 0zm.795 9.975L6.758 7.802 2.783 9.975l4.372-4.642 2.087 2.173 3.926-2.173-4.373 4.642z"});break;case"pinterest":r="0 0 16 16",n=i.createElement("path",{fill:"#e60023",
d:"M5.644 15.648A8.01 8.01 0 0 0 8 16a8 8 0 1 0-2.847-.521c-.073-.625-.151-1.655.017-2.378.145-.621.934-3.958.934 -3.958s-.238-.477-.238-1.183c0-1.107.642-1.934 1.44-1.934.68 0 1.008.51 1.008 1.122 0 .683-.435 1.705-.66 2.652-.187.792.398 1.439 1.18 1.439 1.416 0 2.504-1.493 2.504-3.647 0-1.907-1.37-3.24-3.327 -3.24-2.266 0-3.596 1.7-3.596 3.456 0 .684.264 1.418.593 1.817a.238.238 0 0 1 .055.229c-.06.252-.195.792-.221.903-.035.146-.116.177-.267.107C3.581 10.4 2.96 8.946 2.96 7.778c0-2.512 1.825-4.82 5.262-4.82 2.763 0 4.91 1.97 4.91 4.6 0 2.745-1.73 4.954-4.133 4.954-.807 0-1.566-.42-1.825-.914 0 0-.4 1.52-.496 1.893-.188.722-.71 1.637-1.033 2.157z"});break;case"link":o=i.createElement("circle",{cx:"8",cy:"8",r:"15",fill:"#EFEFEF"}),n=i.createElement("path",{fill:"#8e8e8e",d:"M6.555 7.236L4.848 8.943l-2.389 2.39 2.21 2.21 2.39-2.39 1.707-1.707.82.821a.92.92 0 0 1 .006 1.301l-4.166 4.167a.926.926 0 0 1-1.302-.005L.272 11.878a.92.92 0 0 1-.005-1.302L4.433 6.41a.924.924 0 0 1 1.302.005l.82.821zM9.45 8.764l1.707-1.707 2.389-2.389-2.21-2.211-2.39 2.389-1.707 1.707-.82-.82a.921.921 0 0 1-.006-1.302L10.578.265a.924.924 0 1 1.301.006l3.853 3.852a.92.92 0 0 1 .004 1.301l-4.165 4.167a.924.924 0 0 1-1.302-.006l-.82-.82zm-4.573.889l4.779-4.78 1.473 1.474-4.779 4.78-1.473-1.474z"});break;default:n=null}return i.createElement("svg",{width:"36",height:"36",viewBox:r},o,n)}var Z=n("8e8Q");function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),e}function V(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?te(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}function ee(e,t){return(ee=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){function o(){var e,c;G(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ne(te(te(c=V(this,(e=J(o)).call.apply(e,[this].concat(n))))),"state",{showShareLink:!1,pinterestProfileLink:"",fb:null}),ne(te(te(c)),"selectText",function(e){e.target.select()}),ne(te(te(c)),"openSocialDialog",function(e,t){var n=c.props,r=n.handleShare,o=n.dismissModal,a=n.experienceComplete,i;switch(e){case"facebook":W.default.logIn(c.state.fb,function(){z.a.shareFacebookInvite(c.getShareOptions(5))});break;case"messenger":W.default.logIn(c.state.fb,function(){z.a.shareFbMessengerInvite(c.getShareOptions(6))});break;case"link":i=c.getShareOptions(12),z.a.createAndLogShareInvite(i).then(function(e){var t=e.invite_url;t?c.setState({pinterestProfileLink:t,showShareLink:!0}):r&&r()});break;default:r&&r()}"link"!==e&&(a&&a(),o(!0))}),ne(te(te(c)),"handleShareLinkDismiss",function(e){c.setState({showShareLink:!1})}),ne(te(te(c)),"handleFacebookClick",function(e){c.openSocialDialog("facebook",e)}),ne(te(te(c)),"handleMessengerClick",function(e){c.openSocialDialog("messenger",e)}),ne(te(te(c)),"handlePinterestClick",function(e){c.openSocialDialog("pinterest",e)}),ne(te(te(c)),"handleLinkClick",function(e){c.openSocialDialog("link",e)}),c}return $(o,e),Y(o,[{key:"componentDidMount",value:function e(){var t=this;W.default.ensureInit(function(e){return t.setState({fb:e})})}},{key:"getShareOptions",value:function e(t){var n=this.props.pin;return{invite_channel:t,object_type:Z.a.PIN,object_id:n.id,name:"",description:n.description||"",path:"/pin/".concat(n.id,"/"),picture:n.images&&n.images["236x"]&&n.images["236x"].url||""}}},{key:"render",value:function e(){var t=this.props.close,n=this.state,r=n.pinterestProfileLink,i=n.showShareLink,c=y.a.createElement(K.a,{link:r,handleClick:this.handleShareLinkDismiss,handleFocus:this.selectText}),o=function e(t,n,r){var o="share-upsell-label-"+t,a="";return"facebook"===t?a="#3b5998":"messenger"===t&&(a="#1da1f2"),"link"===t&&i?c:y.a.createElement(S.P,{onTouch:function e(t){var n=t.event;return r(n)},fullWidth:!1},y.a.createElement(S.b,{display:"flex",paddingY:2,alignItems:"center"},y.a.createElement(Q,{name:t}),y.a.createElement(S.h,{xs:1}),y.a.createElement("div",{id:o},y.a.createElement(S.K,{size:"xl",bold:!0},y.a.createElement("span",{style:{color:a}},n)))))},a;return y.a.createElement(S.b,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}}},y.a.createElement("div",null,y.a.createElement(S.b,{paddingX:6,flex:"none"},y.a.createElement(S.b,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:16,right:16}}},y.a.createElement(S.o,{icon:"cancel",onClick:t,accessibilityLabel:_.a._("Cancel"),size:"sm"})),y.a.createElement(S.m,{size:"md"},_.a._("Saved!","Save pin to board")),y.a.createElement(S.b,{paddingY:3,marginRight:8},y.a.createElement(S.K,{size:"xl"},_.a._("Know someone who might like it?","Upsell share a recently saved pin to board"))),y.a.createElement(S.b,{paddingY:2,flex:"none"},o("facebook",_.a._("Send on Facebook"),this.handleFacebookClick),o("messenger",_.a._("Send on Messenger"),this.handleMessengerClick),o("pinterest",_.a._("Send on Pinterest"),this.handlePinterestClick),o("link",_.a._("Send a link"),this.handleLinkClick)))),y.a.createElement(S.h,{xs:1}))}}]),o}(i.Component),oe=n("FTnl"),ae=n("MSpZ"),ie=n("kxCB"),ce=n("EfF6"),le=n("5tOk"),se=n("MH3C"),ue=n("y2lE"),de=n("4Gri"),fe=n("g5tP");function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){Oe(t,e,n[e])})}return t}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),e}function ve(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?we(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}function _e(e,t){return(_e=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return Ce}),n.d(t,"d",function(){return Te}),t.b=De,t.c=Ae;var Se=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,Ce=4e3,je=660,ke=540,Pe="236x",Ie="PinPanePinMeta",xe=236,Te={LOADING:"loading",SUCCESS:"success"},Re=function(e){function o(){var e,v;he(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Oe(we(we(v=ve(this,(e=ge(o)).call.apply(e,[this].concat(n))))),"state",{pinDescription:v.props.pin&&v.props.pin.description||"",showSharingUpsell:!1,resolve:void 0,experienceComplete:function e(){},experienceDismiss:function e(){},newPin:null,boardSavedTo:null,height:0,sharing:{facebook:!1,twitter:!1},modalTitle:v.props.showCreate?_.a._("Create board"):_.a._("Choose board")}),Oe(we(we(v)),"setModalTitle",function(e){return v.safeSetState({modalTitle:e})}),Oe(we(we(v)),"setPWTSaveRequestTiming",function(e,t){e?(v.setPWTAbort(),ae.a.sendEvent(new de.I)):t&&ae.a.sendEvent(new de.J({result:t}))}),Oe(we(we(v)),"getPinHeight",function(){var e,t=(v.props.pin.images["236x"]||{}).height||0,n=document.getElementById(Ie);return n&&t?n.clientHeight+t:0}),Oe(we(we(v)),"unmounted",!1),Oe(we(we(v)),"safeSetState",function(e,t){v.unmounted?t&&t():v.setState(e,t)}),Oe(we(we(v)),"scrollToRelatedPins",function(){document&&document.documentElement&&"scrollBehavior"in document.documentElement.style?window.scroll({top:v.state.height,left:0,behavior:"smooth"}):window.scrollTo(0,v.state.height)}),Oe(we(we(v)),"handleBoardSaveSuccess",function(o,e,a){var t=v.props,i=t.action,c=t.dispatch,n=t.pin,r=t.setCompletionPromise;p.default.instance.refreshPlacedExperiences(),v.setPWTSaveRequestTiming(!1,1);var l=p.default.instance.getPlacedExperience(33),s=p.default.instance.getPlacedExperience(11),u;if(r(v._makeCancelablePromise(new Promise(function(e,t){var n=o.resource_response.data;v._triggerPubSubs(n);var r=v.state.pinDescription.match(Se)||[];0<r.length&&v.props.contextLog(2,{element:10273,hashtags:JSON.stringify(r),objectId:v.props.pin.id}),"repin"===i?(v._fetchBoardRecommendation(n).then(function(e){v._showSuccessToast(e,n,a)}),l&&500388===l.experience_id?v.safeSetState({showSharingUpsell:!0,newPin:n,resolve:e}):e(n)):("create"===i&&s&&500840===s.experience_id&&(c(h(!0)),v.props.contextLog(7510,{component:13233})),e(n))}))),c(Object(fe.c)(e)),c(Object(ce.d)({boardId:e.id,sectionId:a&&a.id,increment:1})),a||!e.image_cover_url){var d=n.image_url,f=n.images;e.image_cover_url=d||f[Pe]&&f[Pe].url||"",c(Object(fe.e)({},e))}a&&c(Object(b.a)(a.id)),c(m(n.id,!0))}),Oe(we(we(v)),"_adjustHeightToPin",function(){0===v.state.height&&(v.safeSetState({height:je}),v.props.onHeightChange&&v.props.onHeightChange(je))}),Oe(we(we(v)),"close",function(){var e=v.props,t=e.contextLog,n=e.onClose;v.experienceDismiss&&v.experienceDismiss(),n&&(v.setPWTAbort(),n(),t(2502,{component:5,element:610}))}),Oe(we(we(v)),"handleSaveToBoard",function(n,t){if(!v.state.boardSavedTo){var e=v.props,r=e.shouldShowPostCreateUpsellToast,o=e.showToast;v.setPWTSaveRequestTiming(!0);var a="secret"===(n.privacy||""),i={board:t?t.id:n.id,state:Te.LOADING};v.safeSetState({boardSavedTo:i},function(){var e;v._getPinResource(a,n.id,(t||{}).id).callCreate({showError:!0}).then(function(e){v.safeSetState({boardSavedTo:Object.assign(i,{state:Te.SUCCESS})},function(){return v.handleBoardSaveSuccess(e,n,t)}),r&&o(function(e){var t=e.onHide;return y.a.createElement(c.a,{boardId:n.id,boardName:n.name,boardUrl:n.url,isRepin:!1,onHide:t})})}).catch(function(e){v.unmounted||v.safeSetState({boardSavedTo:null}),v.setPWTSaveRequestTiming(!1,3);var t=v._makeCancelablePromise(Promise.reject(e));v.props.setCompletionPromise(t)})})}}),Oe(we(we(v)),"handleSocialConnectSet",function(e,t){var n=Object.assign({},v.state.sharing);e===s.default.FACEBOOK?n.facebook=t:e===s.default.TWITTER&&(n.twitter=t),v.safeSetState({sharing:n})}),Oe(we(we(v)),"updateDescription",function(e){v.safeSetState({pinDescription:e})}),Oe(we(we(v)),"handleLogToastClick",function(){v.props.contextLog(101,{component:20,view:52})}),Oe(we(we(v)),"_makeCancelablePromise",function(e){var r=!1,t;return{promise:new Promise(function(t,n){e.then(function(e){return r?n({isCanceled:!0}):t(e)}),e.catch(function(e){return n(r?{isCanceled:!0}:e)})}),cancel:function e(){r=!0}}}),Oe(we(we(v)),"_getPinResource",function(e,t,n){var r=v.props,o=r.color,a=r.location,i=r.pin,c=r.method,l=r.guid,s=r.additionalCreateFields,u=r.advertiser_id,d;i.id&&(d=Object(E.a)(i,a)||"".concat(i.tracking_params,"~0"));var f=i.id?"RepinResource":"PinResource",p=!i.id&&i.image_url?Object(se.b)(i.image_url,i.link):"",b=be({},s,{board_id:t||"",color:o||"",clientTrackingParams:d,description:v.state.pinDescription,guid:l||"",link:i.link,image_base64:i.image_base64,image_url:p,is_buyable_pin:!1,is_removable:i.promoted_is_removable,media_upload_id:i.media_upload_id,method:c||"",pin_id:i.id||"",section:n,title:i.title||""},u?{advertiser_id:u}:{});if(!e){var h=v.state.sharing,m=h.facebook,y=h.twitter;b.share_facebook=m,b.share_twitter=y}return N.a.create(f,b)}),Oe(we(we(v)),"_triggerPubSubs",function(e){A.a.instance.publish("currentUser","pinCreated",e),A.a.instance.publish(e.board.id,"pinCreated",{pin:e}),"repin"===v.props.action&&(A.a.instance.publish(e.board.id,"pinRepinned",e),A.a.instance.publish(v.props.pin.id,"pinRepinned",e))}),Oe(we(we(v)),"_showSuccessToast",function(e,t,n){var r=v.props,o=r.hideAllToasts,a=r.showSuccessToast,i=r.showToast;if(a&&!v.state.showSharingUpsell){o();var c=t.board,l=c.image_cover_url,s=c.name,u=c.url,d;if(d=n?[Object(le.c)(_.a._("Saved to {{sectionName}} in {{boardName}}","Toast for successfully saving to a section within a board"),{sectionName:n.title,boardName:s})]:[_.a._("Saved to"),s],i(function(e){var t=e.onHide;return y.a.createElement(oe.a,{duration:Ce,onHide:t,text:d,href:n?"".concat(u).concat(n.slug):u,imageUrl:l,onClick:v.handleLogToastClick})}),e){var f=e.name,p=e.url,b=e.image_thumbnail_url;i(function(e){var t=e.onHide;return y.a.createElement(oe.a,{duration:Ce,onHide:t,text:[_.a._("You might also like","Post repin suggested board"),f],href:p,imageUrl:b,onClick:v.handleLogToastClick})})}}}),Oe(we(we(v)),"_fetchBoardRecommendation",function(e){var t;return N.a.create("RelatedBoardForPinRandomFeedResource",{pin:e.id,page_size:1}).callGet({showError:!1}).then(function(e){return Promise.resolve(e.resource_response.error?null:e.resource_response.data[0])})}),Oe(we(we(v)),"dismissModal",function(e){var t=v.state,n=t.resolve,r=t.newPin;v.experienceDismiss&&!e&&v.experienceDismiss(),n&&n(r)}),v}return Ee(o,e),ye(o,[{key:"componentDidMount",value:function e(){this._adjustHeightToPin()}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.safeSetState({pinDescription:t.pin&&t.pin.description||t.description||""})}},{key:"componentDidUpdate",value:function e(){this._adjustHeightToPin()}},{key:"componentWillUnmount",value:function e(){this.unmounted=!0}},{key:"setPWTAbort",value:function e(){ae.a.sendEvent(new de.f({result:{COMPLETE:1,USER_ABORT:2,RESPONSE_ERROR:3,RESPONSE_TIMEOUT:4,NETWORK_ERROR:5,CLIENT_SOFTWARE_ERROR:6,OTHER:7,NAVIGATE_AWAY:8,EXIT_APP:9,BACKGROUND_APP:10,COMPLETE_WITHOUT_CONTENT:11}.ABORTED}))}},{key:"renderFlyoutBoardCreate",value:function e(){var t=this.props,n=t.anchorRef,r=t.pin,o=t.isCloseupPin;return y.a.createElement(a.a,{anchorRef:n,dismissHandler:this.close,shownWithinMasonry:!o,saving:!(!this.state.boardSavedTo||this.state.boardSavedTo.state!==Te.SUCCESS),image:r.images.orig,name:"",onCancel:this.close,onCreate:this.handleSaveToBoard,pinId:r.id})}},{key:"render",value:function e(){var o=this;if(!this.props.pin&&!this.props.resourceLoaded)return null;var t=this.props,n=t.color,a=t.pin,r=t.isInModal,i=t.onCloseAndShare,c=t.showCreate,l=t.showFlyout,s=t.suggestedBoardTitle,u=this.state,d=u.showSharingUpsell,f=u.boardSavedTo,p,b,h=u.height||660;if(l)return this.renderFlyoutBoardCreate();var m=y.a.createElement(S.b,{position:"relative",height:h,width:"100%",display:"flex",justifyContent:"center"},y.a.createElement(S.b,{color:"white",display:"flex",height:"100%",overflow:"hidden",position:"relative",shape:"rounded",width:"100%"},y.a.createElement(S.b,{width:"40%",direction:"column",display:"flex",justifyContent:"between",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid #f5f5f5"}}},y.a.createElement(S.b,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"start",direction:"column",marginTop:3},y.a.createElement(O.a,{color:n,pin:a,updateDescription:this.updateDescription})),y.a.createElement(M,{onSocialConnect:this.handleSocialConnectSet})),d?y.a.createElement(g.a,{placementId:33,experienceIds:[500388]},function(e){var t=e.complete,n=e.dismiss,r=e.display_data;return o.experienceComplete=t,o.experienceDismiss=n,y.a.createElement(re,{handleShare:i,close:o.close,experienceComplete:t,pin:a,dismissModal:o.dismissModal})}):y.a.createElement(S.b,{display:"flex",width:"60%"},y.a.createElement(v.a,{boardSavedTo:f,isRepin:!0,onBoardSave:this.handleSaveToBoard,onClose:this.close,pinId:a.id,showCreate:c,suggestedBoardTitle:s,setModalTitle:r?this.setModalTitle:void 0}))));return r?y.a.createElement(w.a,{accessibilityCloseLabel:_.a._("Close"),accessibilityModalLabel:this.state.modalTitle,onDismiss:this.close,heading:this.state.modalTitle,size:"lg"},m):m}}]),o}(i.Component);function Be(e){var t=e.advertiser,n=e.viewer,r=e.location,o=n.isAuth&&t&&t.owner_user_id!==n.id?t.id:null;return be({location:r},o?{advertiser_id:o}:{})}Oe(Re,"defaultProps",{pwtAuxData:{}});var Le=Object(d.compose)(Object(r.connect)(Be),ie.a,ue.a,Object(o.b)({name:"FakePinResource",key:"pin",options:function e(t){var n;return be({},t.fakeResource.options)}}))(Re);function De(e){return y.a.createElement(Le,Object.assign({action:"create"},e))}var Me=Object(d.compose)(Object(r.connect)(Be),ie.a,ue.a)(Re);function Ae(e){return y.a.createElement(Me,Object.assign({action:"repin"},e))}},mu3h:function(e,t,n){"use strict";var r=n("d6ZO"),s=n.n(r),i=n("qZXM"),u=n("ymrh"),o=n("MQ2h"),a=n.n(o),d=n("gEaE"),f=n("6oz1"),c=n("myYc"),p=n("woYD");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){O(t,e,n[e])})}return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function v(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?w(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(l){return function(e){function a(){var e,o;h(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(w(w(o=v(this,(e=g(a)).call.apply(e,[this].concat(n))))),"state",{showEditModal:!1}),O(w(w(o)),"onHide",function(){o.setState({showEditModal:!1}),(o.props.onToggleModal||c.e)(!1)}),O(w(w(o)),"handlePinEditButtonClick",Object(i.a)(function(e){e&&e.stopPropagation();var t=o.props,n=t.component,r;(t.onToggleModal||c.e)(!0),Object(p.a)(101,b({element:3},n?{component:n}:{})),o.setState({showEditModal:!0})})),o}return E(a,e),y(a,[{key:"render",value:function e(){var n=this,t=this.props,r=t.pinId,o=t.onDelete,a=t.onSubmit,i=this.state.showEditModal,c=b({},this.props,{handlePinEditButtonClick:this.handlePinEditButtonClick});return s.a.createElement(d.i,null,s.a.createElement(l,c),i&&s.a.createElement(f.b,{name:"web_dont_send_pin_edit_events",activate:!1},function(e){var t=e.customActivate;return s.a.createElement(u.a,{onHide:n.onHide,pinId:r,onDelete:o,onSubmit:a,activatePinEditExp:t})}))}}]),a}(r.PureComponent)}t.a=Object(o.compose)(S)},n9Oa:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o={"á":"a","à":"a","â":"a","ä":"a","ã":"a","å":"a","æ":"a","ç":"c","é":"e","è":"e","ê":"e","ë":"e","í":"i","ì":"i","î":"i","ï":"i","ñ":"n","ó":"o","ò":"o","ô":"o","ö":"o","õ":"o","ø":"o","œ":"o","ß":"s","ú":"u","ù":"u","û":"u","ü":"u"},l=function e(t){if(!t)return"";for(var n="",r=0;r<t.length;r+=1)n+=o[t.charAt(r)]||t.charAt(r);return n},a=function e(t,n){for(var r=n.split(" "),o=t.split(" "),a=0,i=0;i<o.length;i+=1){var c;(l(o[i]).includes(r[a])||o[i].includes(r[a]))&&(a+=1)}return a===r.length},r=function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"name",o=n.toLowerCase();return t.filter(function(e){return a(e[r].toLowerCase(),o)})}},p58k:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}n.d(t,"a",function(){return s});var i={row:0,section:0},c={row:-1,section:-1},l=function e(){},s=function(){function t(e){r(this,t),this.index=Object.assign({},i),this.sections=e,this.updateCallback=l,this.selectItem=l}return a(t,[{key:"getIndex",value:function e(){return this.index}},{key:"isAtStart",value:function e(){var t=this.index,n=t.row,r=t.section;return 0===n&&0===r}},{key:"isAtEnd",value:function e(){var t=this.index,n=t.row,r=t.section,o=this.sections[r]||[];return this.sections.length===r+1&&o.length===n+1}},{key:"next",value:function e(){if(!this.isAtEnd()){var t=this.index,n=t.row,r=t.section;n===c.row&&r===c.section?this.index=Object.assign({},i):this.sections[r].length>n+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}}},{key:"prev",value:function e(){if(!this.isAtStart()){var t=this.index,n=t.row,r=t.section;if(n===c.row&&r===c.section)this.index=Object.assign({},i);else if(0<n)this.index.row-=1;else{var o=this.index.section-1;this.index={section:o,row:this.sections[o].length-1}}this.updateCallback(!0)}}},{key:"select",value:function e(){var t=this.index,n=t.row,r=t.section;this.selectItem((this.sections[r]||[])[n])}},{key:"setInactive",value:function e(){this.index=Object.assign({},c),this.updateCallback()}},{key:"setSelectItem",value:function e(t){this.selectItem=t}},{key:"setUpdateCallback",value:function e(t){this.updateCallback=t}},{key:"updateIndex",value:function e(t){this.index=t,this.updateCallback()}}]),t}()},"pN+K":function(e,t,n){"use strict";t.a=I,t.c=M;var u=n("d6ZO"),r=n.n(u),o=n("DUIN"),a=n("lJK6"),m=n("FfPm"),i=n("IaRT"),c=n.n(i),l=n("S+Qs");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function d(e,t){if(null==e)return{};var n=f(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function f(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function p(e){return y(e)||h(e)||b()}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function y(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){k(t,e,n[e])})}return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function w(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?j(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function e(t,n){return JSON.stringify(t)===JSON.stringify(n)};function I(e,t){return Object(a.a)("function"==typeof e?e(t):e||{})}function x(e){return e?e.WrappedComponent?e.WrappedComponent.name||"unknown":e.displayName?e.displayName:e.name?e.name:"unknown":"null-subject"}var T=function e(b){var h={};return function(c){return function(e,s){var t=e.resources,r=t.fetching,u=t.data,n=c.some(function(e){var t=e.name,n=e.options;return r[t]&&r[t][I(n,s)]}),d={},f,p=[];c.forEach(function(e){var t=e.name,n=e.options,r=e.key;if(u[t]){var o=I(n,s);if(h[t]||(o in u[t]?m.default.increment("webapp.withResource.cache-hit",.05,{resource:t,cache_size:Object.keys(u[t]).length,level:"success",v:1,component:x(b)}):Object.keys(u[t]).length?m.default.increment("webapp.withResource.populated-cache-miss",1,{resource:t,cache_size:Object.keys(u[t]).length,level:"error",v:1,component:x(b)}):m.default.increment("webapp.withResource.empty-cache-miss",.1,{resource:t,cache_size:Object.keys(u[t]).length,level:"warn",v:1,component:x(b)})),h[t]=!0,u[t][o]){var a=u[t][o],i=a.data,c=a.nextBookmark,l=a.error;d[r]=i,p.push(c),l&&(f=l)}}else m.default.increment("webapp.withResource.no-cache",1,{resource:t,cache_size:0,level:"error",v:1,component:x(b)})});var o=c.every(function(e){var t=e.key;return void 0!==d[t]}),a,i;return{resourceLoaded:o,isAtEnd:o&&!n&&p.every(function(e){return"-end-"===e}),isFetching:n,nextBookmark:p[0],resourceData:d,error:f}}}},R=function e(i){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(s){var e,t;return t=e=function(e){function a(){var e,t;g(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return k(j(j(t=w(this,(e=O(a)).call.apply(e,[this].concat(r))))),"loadData",function(o){var a=c;i.forEach(function(e){var t=e.options,n=e.name,r="function"==typeof t?t(o):t;o.dispatch(Object(l.a)(n,r,void 0,void 0,a.traceLoggerHandlerName))})}),k(j(j(t)),"loadMoreData",function(o){var a=c;i.forEach(function(e){var t=e.options,n=e.name,r="function"==typeof t?t(o):t;o.dispatch(Object(l.d)(n,r,void 0,void 0,a.traceLoggerHandlerName))})}),k(j(j(t)),"resourcesHash",JSON.stringify(i.map(function(e){return v({},e,{options:I(e.options,t.props)})}))),t}return S(a,e),_(a,[{key:"componentDidMount",value:function e(){!1!==c.allowStale&&this.props.resourceLoaded||this.loadData(this.props)}},{key:"shouldComponentUpdate",value:function e(t){var n=p(Object.keys(this.props)).concat(p(Object.keys(t))),r=!0,o=!1,a=void 0;try{for(var i=n[Symbol.iterator](),c;!(r=(c=i.next()).done);r=!0){var l=c.value;if("resourceData"===l){if(!P(this.props.resourceData,t.resourceData))return!0}else if(this.props[l]!==t[l])return!0}}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return!1}},{key:"UNSAFE_componentWillUpdate",value:function e(t){!this.props.resourceLoaded&&t.resourceLoaded&&this.props.onResourceLoaded&&this.props.onResourceLoaded(),!this.props.error&&t.error&&this.props.onResourceError&&this.props.onResourceError(t.error);var n=JSON.stringify(i.map(function(e){return v({},e,{options:I(e.options,t)})}));this.resourcesHash!==n&&(this.loadData(t),this.resourcesHash=n)}},{key:"render",value:function e(){var t=this,n=this.props,r=n.error,o=n.isAtEnd,a=n.isFetching,i=n.resourceData,c=n.resourceLoaded,l=d(n,["error","isAtEnd","isFetching","resourceData","resourceLoaded"]);return delete l.onResourceError,delete l.onResourceLoaded,u.createElement(s,Object.assign({},i,l,{error:r,fetchMoreData:function e(){return t.loadMoreData(t.props)},isAtEnd:o,isFetching:a,refreshData:function e(){return t.loadData(t.props)},resourceLoaded:c}))}}]),a}(u.Component),k(e,"WrappedComponent",s),k(e,"displayName",1===i.length?i[0].name:"".concat(i.length," resources")),t}},B=function e(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e){var t={name:n.name,options:n.options||{},key:n.key||"data"};return Object(o.connect)(T(e)([t]))(R([t],r)(e))}},L=B;t.b=B;var D=function e(t){var a=t.name,i=t.options;return function(e,t){var n=e.resources.data;if(n[a]){var r=I(i,t),o;if(n[a][r])return{data:n[a][r].data}}return{data:null}}};function M(e){var t=e.name,n=e.options;return Object(o.connect)(D({name:t,options:n||{}}))}},pOmq:function(e,t,n){"use strict";function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}t.a=r},q6Rf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=n("d6ZO"),u=n.n(v),r=n("DUIN"),o=n("2FON"),a=n.n(o),i=n("GGB8"),g=n.n(i),d=n("biwq"),E=n("W/Cr"),_=n("r/ec"),w=n("tmfO"),O=n("8N7E"),l=n("dZgC"),c=n("ZtCB"),f=n.n(c),p=n("MSpZ"),s=n("kxCB"),b=n("EfF6"),h=n("MQ2h"),m=n.n(h),y=n("Cjb7"),S=n("suNN"),C=n("jnRL"),j=n("+B8E"),k=n("OIxG"),P=n("iSgY"),I=n("gEaE"),x,T=function e(t){var n=t.isOpen,r=t.showCollaborativeIcon,o=t.showPrivateIcon,a=t.showSectionsIcon;return r||o||a?u.a.createElement(I.b,{display:"flex",direction:"row",paddingX:2},o&&u.a.createElement(P.a,{type:"secret"}),r&&u.a.createElement(P.a,{type:"group"}),a&&u.a.createElement(P.a,{type:n?"sectionsInline":"sections"})):null},R=n("BAXv"),B=n("rgtM"),L=n("8Zvv");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function N(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?z(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}function W(e,t){return(W=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){function a(){var e,t;M(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return K(z(z(t=N(this,(e=H(a)).call.apply(e,[this].concat(r))))),"state",{hovered:!1}),K(z(z(t)),"handleMouseEnter",function(){t.setState({hovered:!0})}),K(z(z(t)),"handleMouseLeave",function(){t.setState({hovered:!1})}),t}return U(a,e),F(a,[{key:"render",value:function e(){var t=this.state.hovered,n=this.props,r=n.board,o=n.onClick,a=n.requestContext,i=n.shouldOpenSections,c=!!r.section_count&&0<r.section_count,l=r.privacy===R.a.BoardPrivacy.SECRET,s=Object(L.a)(a,r.image_cover_url);return u.a.createElement(B.a,{id:"board-picker-section"},u.a.createElement(I.P,{onTouch:function e(){o(r)},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.a.createElement(I.b,{color:t?"lightGray":"white",display:"flex",alignItems:"center"},u.a.createElement(I.b,{flex:"none",marginBottom:1,marginLeft:2,marginRight:2,marginTop:1,overflow:"hidden",width:24,height:24,dangerouslySetInlineStyle:{__style:{borderRadius:4}}},s&&i?u.a.createElement(I.p,{src:s,alt:"",naturalHeight:1,naturalWidth:1,fit:"cover"}):u.a.createElement(I.b,{color:i?"lightGray":"transparent",width:"100%",height:"100%"})),u.a.createElement(I.b,{flex:"grow",paddingY:1,overflow:"hidden"},u.a.createElement(I.K,{bold:i,truncate:!0},r.name)),t&&(0===r.section_count||!i)&&u.a.createElement(I.b,{color:"red",flex:"none",height:32,paddingX:3,display:"flex",alignItems:"center"},u.a.createElement(I.K,{color:"white",bold:!0},E.a._("Save","Save label on hover - Better save"))),r&&u.a.createElement(T,{isOpen:r.isOpen,showCollaborativeIcon:!!r.is_collaborative,showPrivateIcon:l,showSectionsIcon:c&&i}))))}}]),a}(v.Component);K(Q,"defaultProps",{shouldOpenSections:!0});var Z=Object(h.compose)(k.b)(Q);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),e}function V(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?te(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}function ee(e,t){return(ee=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){function a(){var e,t;G(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ne(te(te(t=V(this,(e=J(a)).call.apply(e,[this].concat(r))))),"state",{hovered:!1}),ne(te(te(t)),"handleMouseEnter",function(){t.setState({hovered:!0})}),ne(te(te(t)),"handleMouseLeave",function(){t.setState({hovered:!1})}),t}return $(a,e),Y(a,[{key:"render",value:function e(){var t=this.state.hovered,n=this.props,r=n.board,o=n.section,a=n.onClick;return u.a.createElement(I.P,{onTouch:function e(){return a(o,r)},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.a.createElement(I.b,{color:t?"lightGray":"white",display:"flex",alignItems:"center"},u.a.createElement(I.b,{color:"transparent",flex:"none",marginBottom:1,marginLeft:2,marginRight:2,marginTop:1,overflow:"hidden",width:24,height:24}),u.a.createElement(I.b,{flex:"grow",paddingY:1},u.a.createElement(I.K,{truncate:!0},o.title)),t&&u.a.createElement(I.b,{color:"red",flex:"none",height:32,paddingX:3,display:"flex",alignItems:"center"},u.a.createElement(I.K,{color:"white",bold:!0},E.a._("Save","Save label on hover - Better save")))))}}]),a}(v.Component),oe=n("JyNp"),ae=function e(t){var n=t.board,r=t.sectionsResource,o=t.onClick,a=r&&r.data||[];return u.a.createElement(I.b,null,!r.isLoaded&&u.a.createElement(I.b,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",minHeight:200},u.a.createElement(I.G,{accessibilityLabel:E.a._("loading board picker","accessibility text for loading spinner"),show:!0})),r.isLoaded&&u.a.createElement(I.b,null,a.map(function(e){return u.a.createElement(re,{board:n,key:e.id,section:e,onClick:o})})))},ie=Object(oe.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:function e(t){return{board_id:t.board.id}}},{allowStale:!1})(ae);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t&&se(e.prototype,t),n&&se(e,n),e}function de(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?he(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}function be(e,t){return(be=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){function a(){var e,t;le(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return me(he(he(t=de(this,(e=fe(a)).call.apply(e,[this].concat(r))))),"state",{hovered:!1}),me(he(he(t)),"handleMouseEnter",function(){t.setState({hovered:!0})}),me(he(he(t)),"handleMouseLeave",function(){t.setState({hovered:!1})}),t}return pe(a,e),ue(a,[{key:"render",value:function e(){var t=this.state.hovered,n=this.props,r=n.onClick,o=n.title;return u.a.createElement(I.P,{onTouch:function e(){r({title:o})},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.a.createElement(I.b,{color:t?"lightGray":"white",display:"flex",alignItems:"center"},u.a.createElement(I.b,{flex:"none",marginBottom:1,marginLeft:2,marginRight:2,marginTop:1,overflow:"hidden",width:24,height:24,dangerouslySetInlineStyle:{__style:{borderRadius:4}}},u.a.createElement(I.b,{color:"lightGray",width:"100%",height:"100%"})),u.a.createElement(I.b,{flex:"grow",paddingY:1},u.a.createElement(I.K,{bold:!0,truncate:!0},o))))}}]),a}(v.Component),ve=function e(t){var n=t.suggestionsResource,r=t.onClick,o=n&&n.data||[];return u.a.createElement(I.b,null,!n.isLoaded&&u.a.createElement(I.b,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",minHeight:200},u.a.createElement(I.G,{accessibilityLabel:E.a._("loading board suggestions","accessibility text for loading spinner"),show:!0})),n.isLoaded&&u.a.createElement(I.b,null,o.map(function(e,t){return u.a.createElement(ye,{key:t,title:e.title,onClick:r})})))},ge=Object(oe.b)({name:"BoardTitleSuggestionsResource",key:"suggestionsResource",options:function e(t){var n;return{pin_id:t.pinId}}},{allowStale:!1})(ve);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),e}function Se(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?Pe(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}function ke(e,t){return(ke=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=function(e){function a(){var e,t;_e(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ie(Pe(Pe(t=Se(this,(e=Ce(a)).call.apply(e,[this].concat(r))))),"state",{hovering:!1}),Ie(Pe(Pe(t)),"handleMouseEnter",function(){t.setState({hovering:!0})}),Ie(Pe(Pe(t)),"handleMouseLeave",function(){t.setState({hovering:!1})}),t}return je(a,e),Oe(a,[{key:"render",value:function e(){var t=this.props.onClick,n=this.state.hovering;return v.createElement(B.a,{id:"create-board"},v.createElement(I.P,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouch:t,shape:"rounded"},v.createElement(I.b,{display:"flex",alignItems:"center",color:n?"lightGray":"white",padding:2,width:"100%"},v.createElement(I.b,{marginRight:2},v.createElement(I.n,{accessibilityLabel:"",size:"24",icon:"add-circle",color:"red"})),v.createElement(I.K,{truncate:!0,align:"center",bold:!0},E.a._("Create board")))))}}]),a}(v.Component),Te=n("GDBS"),Re=n("4Gri"),Be=n("n9Oa"),Le=n("Qqx1"),De=n("y2lE");function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){Ye(t,e,n[e])})}return t}function Fe(e){return Ue(e)||He(e)||Ne()}function Ne(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function He(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function Ue(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t,n){return t&&ze(e.prototype,t),n&&ze(e,n),e}function Qe(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?Xe(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e){function o(){var e,c;We(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ye(Xe(Xe(c=Qe(this,(e=Ze(o)).call.apply(e,[this].concat(n))))),"state",{selectedBoardId:"",selectedBoardCategory:"",searchQuery:""}),Ye(Xe(Xe(c)),"getItems",function(){var e=c.props.boardResource.data,t=e.all_boards,n=e.boards_shortlist,r=t.map(function(e){return c.mapBoards(e,"allBoards",0)}),o=n.map(function(e,t){return c.mapBoards(e,"shortlist",t+1)}),a=c.state.searchQuery;return a.length>=Le.a?Fe(Object(Be.a)(r,a)):Fe(3<r.length&&o&&o.length?[{type:"header",title:E.a._("Top board suggestions","Header for top suggesions in board picker")}].concat(Fe(o)):[]).concat([{type:"header",title:E.a._("All boards","Header for all boards in board picker")}].concat(Fe(r)),Fe(r.length<=3?[{type:"header",title:E.a._("Suggested board names","Header for suggested boards in board picker")}]:[]))}),Ye(Xe(Xe(c)),"mapBoards",function(e,t,n){var r=c.state,o=r.selectedBoardId,a=r.selectedBoardCategory,i;return Ae({},e,{category:t,isOpen:e.id===o&&t===a,gridIndex:n})}),Ye(Xe(Xe(c)),"handleSectionClick",function(e,t){var n=c.props,r=n.contextLog,o=n.onItemChosen;r(101,{component:13282,element:36,objectId:t.id,view:91,grid_index:t.gridIndex}),o({boardId:t.id,url:e.slug?"".concat(t.url).concat(e.slug,"/"):t.url,sectionId:e.id,title:e.title||""})}),Ye(Xe(Xe(c)),"handleBoardWithSectionsClick",function(e){var t=c.state,n=t.selectedBoardId,r=t.selectedBoardCategory,o=n===e.id&&r===e.category;c.setState({selectedBoardId:o?"":e.id,selectedBoardCategory:o?"":e.category})}),Ye(Xe(Xe(c)),"handleBoardClick",function(e){var t=e.board,n=e.toggleSections,r=c.props,o=r.contextLog,a=r.onItemChosen;n?c.handleBoardWithSectionsClick({id:t.id,category:t.category}):(o(101,{component:13282,element:36,objectId:t.id,view:91,grid_index:t.gridIndex}),a({boardId:t.id,url:t.url,title:t.name||""}))}),Ye(Xe(Xe(c)),"handleSearchQueryUpdate",function(t){c.setState(function(e){return Ae({},e,{searchQuery:t})})}),c}return qe(o,e),Ke(o,[{key:"componentDidMount",value:function e(){this.props.boardResource.isLoaded&&this.setPWTLoadingEnd()}},{key:"componentDidUpdate",value:function e(t){!t.boardResource.isLoaded&&this.props.boardResource.isLoaded&&this.setPWTLoadingEnd()}},{key:"setPWTLoadingEnd",value:function e(){var t=this.props.boardResource.error?3:1;p.a.sendEvent(new Re.f({result:t}))}},{key:"render",value:function e(){var r=this,t=this.props,n=t.boardResource,o=t.onBoardCreate,a=t.pin,i=this.state.searchQuery,c=[];n.isLoaded&&!n.error&&(c=this.getItems());var l=c.filter(function(e){return e&&"allBoards"===e.category}).length;return u.a.createElement(I.b,{width:"100%",shape:"rounded",overflow:"hidden"},!n.isLoaded&&u.a.createElement(I.b,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",minHeight:200},u.a.createElement(I.G,{accessibilityLabel:E.a._("loading board picker","accessibility text for loading spinner"),show:!0})),n.isLoaded&&u.a.createElement(I.b,{position:"relative"},u.a.createElement(I.b,{display:"flex",direction:"column",width:"100%",dangerouslySetInlineStyle:{__style:{zIndex:0}}},u.a.createElement(I.b,{display:"flex",padding:2},u.a.createElement(Te.a,{accessibilityLabel:E.a._("Search through your boards","search bar placeholder text"),focused:!0,id:"pickerSearchField",onChange:function e(t){var n=t.value;return r.handleSearchQueryUpdate(n)},placeholder:E.a._("Search","search bar placeholder text"),value:i})),u.a.createElement(I.b,{maxHeight:240,overflow:"scrollY"},c.map(function(e,t){return"header"===e.type?u.a.createElement(I.b,{key:e.title,paddingX:2,paddingY:1,marginTop:0<t?2:1},u.a.createElement(I.K,{size:"sm"},e.title)):u.a.createElement(I.b,{key:"".concat(e.category,"-").concat(e.id)},u.a.createElement(Z,{board:e,onClick:function e(t){r.handleBoardClick({board:t,toggleSections:!!t.section_count})}}),e.isOpen&&u.a.createElement(I.b,null,u.a.createElement(Z,{board:e,onClick:function e(t){r.handleBoardClick({board:t,toggleSections:!1})},shouldOpenSections:!1}),u.a.createElement(ie,{board:e,onClick:r.handleSectionClick})))}),l<=3&&u.a.createElement(ge,{pinId:a.id,onClick:o})),u.a.createElement(I.j,null),u.a.createElement(I.b,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}}},u.a.createElement(xe,{onClick:function e(){return o({title:r.state.searchQuery})}})))))}}]),o}(v.Component),Je=Object(De.a)(Ve),$e=Object(oe.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:function e(t){return{pin_id:t.pin.id,field_set_key:"board_picker",shortlist_suggestions:2}}},{allowStale:!1})(Je),et=n("m1HD"),tt=n("lip+"),nt=n("6oz1");function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){ot(t,e,n[e])})}return t}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at=function e(t){var n=t.children,r=t.isOneTapMostRecent,o=t.mostRecentBoard,a=t.suggestedBoardsResource;return v.createElement(v.Fragment,null,n(rt({isOneTapMostRecent:r,mostRecentBoard:o,suggestedBoardsResource:a},a.data?{}:{isLoading:!0})))};function it(n){return v.createElement(nt.b,{name:"web_1tap_save_most_recent"},function(e){var t=e.anyEnabled;return v.createElement(tt.a,null,function(e){return v.createElement(at,Object.assign({},n,{username:e.username,isOneTapMostRecent:t}))})})}var ct=function e(t){var n;return{mostRecentBoard:t.mostRecentBoard}},lt=Object(h.compose)(Object(r.connect)(ct),Object(oe.b)({name:"BoardPickerBoardsShortlistResource",key:"suggestedBoardsResource",options:function e(t){return{pin_id:t.pinId,shortlist_length:5,num_shortlist_suggestions:5,suggestions_only:!0,min_confidence:.5}}}))(it),st=n("mSxZU"),ut=n("LzMI"),dt=n("te8a");function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pt(e,t){if(null==e)return{};var n=bt(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bt(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){St(t,e,n[e])})}return t}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t,n){return t&&yt(e.prototype,t),n&&yt(e,n),e}function gt(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?Ot(e):t}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function _t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}function wt(e,t){return(wt=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"PinBetterSave",function(){return jt});var Ct=4,jt=function(e){function o(){var e,d;mt(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return St(Ot(Ot(d=gt(this,(e=Et(o)).call.apply(e,[this].concat(n))))),"state",{searchQuery:"",suggestedBoardTitle:"",showBoardFlyout:!1,showRepinModal:!1}),St(Ot(Ot(d)),"setBoardSaveCompletionPromise",function(e){d._repinCompletionPromise=e,d._repinCompletionPromise.promise.then(function(e){if(e.board){var t=e.board,n={boardId:t.id,title:t.name,url:t.url};d.updateSelectedBoardOrSection(n),d.updateSavedState(ht({},n,{localPinId:e.id}))}d.handleRepinHide()})}),St(Ot(Ot(d)),"updateSavedState",function(e){var t=d.props,n=t.save,r=t.onSave,o;n(ht({pinId:t.pin.id},e)),r&&r()}),St(Ot(Ot(d)),"updateSelectedBoardOrSection",function(e){var t=d.props,n,r;(0,t.selectBoardOrSection)(ht({pinId:t.pin.id},e))}),St(Ot(Ot(d)),"updateSelectedItem",function(e){var t,n=(e||d.props).initialSelection;!d.props.selectedItem&&n&&d.updateSelectedBoardOrSection(n)}),St(Ot(Ot(d)),"handleItemChosen",function(e){d.updateSelectedBoardOrSection(e),d.hideFlyout(!0),d.save(e)}),St(Ot(Ot(d)),"handleBoardCreate",function(){var e,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).title,n=void 0===t?"":t;d.hideFlyout(!0),d.setState(function(e){return ht({},e,{suggestedBoardTitle:n,showRepinModal:!0})});var r=d.props.onToggleFlyout;r&&r(!0,!0)}),St(Ot(Ot(d)),"handleRepinHide",function(){d.setState(function(e){return ht({},e,{suggestedBoardTitle:"",showRepinModal:!1})});var e=d.props.onToggleFlyout;e&&e(!1,!1)}),St(Ot(Ot(d)),"handleBoardDropdownClick",function(e){var t=d.props,n=t.contextLog,r=t.pin.id,o=t.viewParameter;e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),d.state.showBoardFlyout?d.hideFlyout(!0):(n(101,{component:13282,element:10960,viewParameter:o,objectId:r}),p.a.sendEvent(new Re.e),d.showFlyout())}),St(Ot(Ot(d)),"handleSaveClick",function(e){var t=d.props,n=t.selectedItem,r=t.contextLog;n?(e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),r(101,{component:13282,element:36,objectId:n.boardId,grid_index:4}),d.save(n)):d.handleBoardDropdownClick(e)}),St(Ot(Ot(d)),"handleEditSubmit",function(e){var t=e.boardId,n=e.sectionId,r=e.url,o=e.title,a=d.props,i=a.pin.id,c=a.savedInfo,l=(c=void 0===c?{}:c).localPinId;d.updateSavedState({pinId:i,localPinId:l,boardId:t,sectionId:n||"",url:r,title:o})}),St(Ot(Ot(d)),"resetPinSavedState",function(){d.updateSavedState({boardId:"",localPinId:"",sectionId:"",title:"",url:""})}),St(Ot(Ot(d)),"save",function(o){var e=d.props,t=e.isLimitedLogin,a=e.postRepinUpsellDisabled,i=e.postRepinMoreIdeasUpsell,c=e.showToast,l=e.requestContext,s=e.mostRecentBoard,u=e.setMostRecentBoard;return p.a.sendEvent(new Re.I),d.updateSavedState(o),p.a.sendEvent(new Re.J({result:1})),d.getPinResource(o).callCreate({showError:!t}).then(function(e){var t=e.resource_response.data,n=o.url,r;!a&&n&&Object(et.b)({boardId:o.boardId,boardUrl:n,requestContext:l,postRepinMoreIdeasUpsell:i})&&c(function(e){var t=e.onHide;return v.createElement(et.a,{boardId:o.boardId,boardName:o.title,boardUrl:n,isRepin:!0,onHide:t})}),d.updateSavedState(ht({},o,{localPinId:t.id})),y.b.publish("currentUser","pinCreated",t),y.b.publish(t.board.id,"pinCreated",{pin:t}),y.b.publish(t.board.id,"pinRepinned",t),d.props.incrementPinCount({boardId:o.boardId,sectionId:o.sectionId}),new j.c(l,"web_1tap_save_most_recent").enabledWithNoActivation()&&s&&o.boardId!==s.id&&u(o.boardId,o.title)}).catch(function(e){d.resetPinSavedState()})}),St(Ot(Ot(d)),"hideFlyout",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=d.props.onToggleFlyout;d.setState({showBoardFlyout:!1}),t&&t(!1,e)}),d}return _t(o,e),vt(o,[{key:"UNSAFE_componentWillMount",value:function e(){this.updateSelectedItem()}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.updateSelectedItem(t)}},{key:"getPinResource",value:function e(t){var n=this.props,r=n.carousel_data,o=n.location,a=n.pin,i=r&&r.index,c="RepinResource",l=Object(d.a)(a,o)||"".concat(a.tracking_params,"~0"),s=ht({description:a.description||"",link:a.link,title:a.title||"",clientTrackingParams:l,board_id:t.boardId||"",pin_id:a.id||"",image_base64:a.image_base64,is_buyable_pin:!1,is_removable:a.promoted_is_removable,carousel_slot_index:i||0},t.sectionId?{section:t.sectionId}:{},Object(dt.b)(a)||{});return f.a.create(c,s)}},{key:"showFlyout",value:function e(){var t=this.props.onToggleFlyout;this.setState({showBoardFlyout:!0}),t&&t(!0,!0)}},{key:"shouldShowPostCreateUpsellToast",value:function e(){return new j.c(this.props.requestContext,"web_use_cases_more_ideas_post_board_create_upsell").enabled()}},{key:"render",value:function e(){var n=this,t=this.props,r=t.boardResource,o=t.inMasonry,a=t.inCloseup,i=t.onToggleModal,c=t.pin,l=t.selectedItem,s=t.savedInfo,u=t.unselectedText,d=t.viewParameter,f=this.state,p=f.showBoardFlyout,b=f.showRepinModal,h=f.suggestedBoardTitle,m=o?_.a:I.k,y=r?Je:$e;return v.createElement(I.b,{width:"100%"},s&&s.title?v.createElement(I.b,{display:"flex",justifyContent:"center",direction:"row",alignItems:"center","data-test-id":"saved-info"},v.createElement(I.b,{paddingX:1,flex:"grow"},v.createElement(w.b,{className:"underlineLink",stopPropagation:!0,style:{color:a?"#333":"#fff"},to:s.url},v.createElement(I.K,{color:a?"darkGray":"white",inline:!0},Object(S.b)(E.a._("Saved to {{ destination }}","Saved to label for better save"),{destination:v.createElement(I.K,{color:a?"darkGray":"white",bold:!0,inline:!0,key:"pin_auto_save_link"},s.title)})))),v.createElement(I.b,{paddingX:1},v.createElement(O.default,{component:0,onDelete:this.resetPinSavedState,onSubmit:this.handleEditSubmit,pinId:s.localPinId,onToggleModal:i,viewParameter:d}))):v.createElement(I.b,{alignItems:"center",display:"flex",width:"100%"},v.createElement("button",{className:g()("PinBetterSave__Dropdown",{"PinBetterSave__Dropdown--expanded":p}),"data-test-id":"PinBetterSaveDropdown",onClick:this.handleBoardDropdownClick,ref:function e(t){return n.anchor=t}},v.createElement(I.b,{marginRight:2,minWidth:0,overflow:"hidden"},l&&l.title?v.createElement(I.K,{truncate:!0,__dangerouslyIncreaseLineHeight:!0},l.title):v.createElement(I.K,{color:"gray",__dangerouslyIncreaseLineHeight:!0,truncate:!0},u)),v.createElement(I.b,{flex:"none",marginRight:-1,"data-test-id":"boardSelectionDropdown"},v.createElement(I.n,{accessibilityLabel:E.a._("Select a board you want to save to","BetterSave accessibility label to change the board"),color:"darkGray",icon:"arrow-down",size:12}))),!p&&v.createElement("button",{className:"PinBetterSave__Button",onClick:this.handleSaveClick,"data-test-id":"PinBetterSaveButton"},v.createElement(I.K,{bold:!0,color:"white"},E.a._("Save","BetterSave Save label")))),b&&v.createElement(st.c,{isInModal:!0,onClose:this.handleRepinHide,pin:c,pwtAuxData:{pin_create_method:"repin"},shouldShowPostCreateUpsellToast:this.shouldShowPostCreateUpsellToast(),setCompletionPromise:this.setBoardSaveCompletionPromise,showCreate:!0,suggestedBoardTitle:h,additionalCreateFields:{is_stl_pin:Object(dt.d)(c)}}),this.state.showBoardFlyout&&v.createElement(m,{anchor:this.anchor,idealDirection:"down",onDismiss:this.hideFlyout,positionRelativeToAnchor:!o,size:"md"},v.createElement(y,{boardResource:r,selectedItem:l,onItemChosen:this.handleItemChosen,onBoardCreate:this.handleBoardCreate,pin:c})))}}]),o}(v.Component),kt=function e(t,n){var r=n.pin.id,o=t.pins[r],a=t.ui.postRepinMoreIdeasUpsell;return{carousel_data:o.carousel_data,isLimitedLogin:t.viewer.isLimitedLogin,savedInfo:o&&o.savedInfo,selectedItem:o&&o.selectedItem,location:t.location,postRepinMoreIdeasUpsell:a,mostRecentBoard:t.mostRecentBoard}},Pt=function e(o){return{incrementPinCount:function e(t){var n=t.boardId,r=t.sectionId;return o(Object(b.d)({boardId:n,sectionId:r,increment:1}))},save:function e(t){return o(Object(ut.a)(t))},selectBoardOrSection:function e(t){return o(Object(ut.b)(t))},setMostRecentBoard:function e(t,n){return o(Object(C.a)(t,n))}}},It=Object(h.compose)(Object(r.connect)(kt,Pt),s.a,De.a)(jt);function xt(e){var t=e.initialSelection,c=pt(e,["initialSelection"]);return v.createElement(l.b,null,function(i){return t?v.createElement(It,Object.assign({},c,{postRepinUpsellDisabled:!0,requestContext:i,initialSelection:t,unselectedText:t.title})):v.createElement(lt,{pinId:c.pin.id},function(e){var t=e.isLoading,n=e.isOneTapMostRecent,r=e.mostRecentBoard,o=e.suggestedBoardsResource,a=o.data&&o.data[0];return v.createElement(It,Object.assign({},c,{requestContext:i,initialSelection:!t&&a&&{boardId:a.id,title:a.name,url:a.url}||!t&&!a&&n&&r&&{boardId:r.id,title:r.name}||void 0,unselectedText:t?"...":E.a._("Select","BetterSave label to pick a board from the list")}))})})}var Tt=t.default=v.memo(function(e){if(e.prefetchBoards){var t=Object(oe.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:function e(t){return{pin_id:t.pin.id,field_set_key:"board_picker",shortlist_suggestions:2}}},{allowStale:!1})(xt);return v.createElement(t,e)}return v.createElement(xt,e)})},qZXM:function(e,t,n){"use strict";var r=n("4Qfy"),o=n("MY3l"),a=function e(t){var n=r.a.instance&&r.a.instance.getState()||{viewer:{}};return!n.viewer.isAuth||n.viewer.isLimitedLogin?function(e){return r.a.instance.dispatch(o.a)}:t};t.a=a},qtmg:function(e,t,n){"use strict";var r=n("d6ZO"),f=n.n(r),p=n("W/Cr"),b=n("xfx3"),o=n("ZtCB"),i=n.n(o),a=n("GU18"),h=n("suNN"),m=n("gEaE");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?E(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=5,O=27,S=38,C=40,j=13,k=function(e){function a(){var e,n;l(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return _(E(E(n=d(this,(e=y(a)).call.apply(e,[this].concat(r))))),"state",{isOpen:n.props.editing,recommendations:[],selectedIndex:0,resourceLoaded:!1}),_(E(E(n)),"onDismiss",function(){n.setState({isOpen:!1})}),_(E(E(n)),"mounted",!1),_(E(E(n)),"addHashtag",function(e){n.props.addHashtag(e),n.setState({recommendations:[]})}),_(E(E(n)),"handleKeyDown",function(e){38===e.keyCode?n.handlePrevHashtag(e
):40===e.keyCode?n.handleNextHashtag(e):27===e.keyCode?n.handleClose(e):13===e.keyCode&&n.handleSubmit(e)}),_(E(E(n)),"handlePrevHashtag",function(e){e.preventDefault(),0<n.state.selectedIndex&&n.setState(function(e){return{selectedIndex:e.selectedIndex-1}})}),_(E(E(n)),"handleNextHashtag",function(e){e.preventDefault(),n.state.selectedIndex<n.state.recommendations.length-1&&n.setState(function(e){return{selectedIndex:e.selectedIndex+1}})}),_(E(E(n)),"handleClose",function(e){e.preventDefault(),n.setState({recommendations:[]})}),_(E(E(n)),"handleSubmit",function(e){e.preventDefault(),n.addHashtag(n.state.recommendations[n.state.selectedIndex].query)}),_(E(E(n)),"callResource",function(e){var t;(0,n.props.makeCancelablePromise)(i.a.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then(function(e){if(n.mounted){var t=e.resource_response.data;n.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}}).catch(function(e){var t;e.isCanceled||n.setState({resourceLoaded:!1})})}),n}return v(a,e),u(a,[{key:"componentDidMount",value:function e(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){t.query!==this.props.query&&""!==t.query&&this.callResource(t.query)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}},{key:"render",value:function e(){var r=this,t=this.state,n=t.recommendations,o=t.resourceLoaded,a=t.selectedIndex,i=this.props,c=i.anchor,l=i.idealDirection,s=n.filter(function(e){return e.query}),u=l||"down",d="flyout_"+s.length;return o&&0<s.length?f.a.createElement("div",{className:"HashtagFlyout"},f.a.createElement(m.k,{key:d,anchor:c,idealDirection:u,onDismiss:this.onDismiss,size:"sm"},f.a.createElement("div",{className:"HashtagRecommendations"},0<s.length?s.map(function(n,e){return f.a.createElement("div",{className:"HashtagItem",key:n.query},f.a.createElement(m.P,{onTouch:function e(t){return r.addHashtag(n.query)},fullWidth:!1},f.a.createElement(m.b,{display:"flex",justifyContent:"between",alignItems:"center",color:e===a?"lightGray":"transparent",deprecatedPadding:1},f.a.createElement(m.b,{flex:"grow"},f.a.createElement(m.K,{inline:!0,size:"sm",bold:!0},n.query)),f.a.createElement(m.b,{flex:"none"},f.a.createElement(m.K,{inline:!0,size:"xs"},Object(h.b)(p.a.ngettext("{{ count }} pin","{{ count }} pins",Number(n.pin_count),"label for n pins in hashtag flyout"),{count:f.a.createElement(b.a,{value:Number(n.pin_count),key:"pinCount"})}))))))}):null))):null}}]),a}(f.a.Component);t.a=Object(a.a)(k)},"r/ec":function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("impO");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function c(e,t){if(null==e)return{};var n=l(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?m(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function a(){var e,o;s(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(m(m(o=f(this,(e=p(a)).call.apply(e,[this].concat(n))))),"renderFlyout",function(){var e=o.props,t=e.setActive,n=e.showOnTopOfModal,r;t("flyout",c(e,["setActive","showOnTopOfModal"]),n||!1)}),o}return b(a,e),d(a,[{key:"componentDidMount",value:function e(){this.renderFlyout()}},{key:"componentDidUpdate",value:function e(){this.renderFlyout()}},{key:"componentWillUnmount",value:function e(){this.props.setActive()}},{key:"render",value:function e(){return null}}]),a}(r.Component),g=function e(t){return r.createElement(a.a.Consumer,null,function(e){return r.createElement(v,Object.assign({},t,{setActive:e}))})};g.displayName="MasonryFlyout",t.a=g},rv2a:function(e,t,n){"use strict";var s=n("d6ZO"),r=n.n(s),u=n("gEaE"),o=function e(t){var n=t.children,r=t.description,o=t.error,a=t.id,i=t.label,c=t.required,l=t.onLabelTouch;return s.createElement(u.b,null,s.createElement(u.b,{marginBottom:1},s.createElement(u.q,{htmlFor:a},s.createElement(u.K,{color:o?"orange":"darkGray"},i,c&&s.createElement(u.K,{color:"orange",bold:!0,inline:!0},s.createElement("span",{"aria-hidden":"true"},"*"))))),n,(!!o||!!r)&&s.createElement(u.q,{htmlFor:a},s.createElement(u.b,{marginTop:1},l?s.createElement(u.P,{onTouch:l},s.createElement(u.K,{color:o?"orange":"darkGray",size:"sm"},o||r)):s.createElement(u.K,{color:o?"orange":"darkGray",size:"sm"},o||r))))};t.a=o},sYje:function(e,t,n){"use strict";var o=n("ZIw6"),r=n("ZtCB"),l=n.n(r),i=n("JMBu"),a=3,c={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,community:7},_convertToInviteObject:function e(t){return this.ObjectTypeToInviteObject[t]||0},_logShareInvite:function e(t,n){var r=this._convertToInviteObject(t.object_type),o=t.invite_channel,a=null==t.invite_category?3:t.invite_category,i=t.object_id,c;return l.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:a,invite_object:r,invite_channel:o},invite_code:n,object_id:i}).callCreate()},createAndLogShareInvite:function e(t){return c.createShareInviteData(t).then(function(e){return c._logShareInvite(t,e.invite_code),Promise.resolve(e)},function(e){return Promise.reject(e)})},createShareInviteData:function e(t){var n=this._convertToInviteObject(t.object_type),r=t.invite_channel,o=null==t.invite_category?3:t.invite_category,a=t.object_id,i;return l.a.create("CreateExternalInviteResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:r},object_id:a}).callCreate().then(function(e){return Promise.resolve(e.resource_response.data)},function(e){return Promise.reject(e)})},logShareInvite:function e(t,n){n&&c._logShareInvite(t,n.invite_code)},shareFacebookInvite:function e(r){return c.createShareInviteData(r).then(function(e){var t=e.invite_url,n=e.invite_code;return t&&o.default.open({type:"share",object_type:r.object_type,object_id:r.object_id,name:r.name,caption:e.title,description:r.description,path:t,picture:r.picture,callback:function e(t){t&&t.success&&c._logShareInvite(r,n)}}),Promise.resolve(e)},function(e){return Promise.reject(e)})},shareTwitterInvite:function e(o){var a=this._convertToInviteObject(o.object_type);return c.createShareInviteData(o).then(function(e){var t=e.invite_url,n=e.invite_code,r=o.description;return 6===a&&o.name&&(r=o.name),t&&i.a.openDialog({tweet_path:t,tweet_text:r}),c._logShareInvite(o,n),Promise.resolve(e)},function(e){return Promise.reject(e)})},shareFbMessengerInvite:function e(r){return c.createShareInviteData(r).then(function(e){var t=e.invite_url,n=e.invite_code;return t&&o.default.open({type:"send",object_type:r.object_type,object_id:r.object_id,name:r.name,caption:e.title,description:r.description,path:t,picture:r.picture,callback:function e(t){t&&t.success&&c._logShareInvite(r,n)}}),Promise.resolve(e)},function(e){return Promise.reject(e)})}};t.a=c},skut:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("d6ZO"),o=n.n(r),a=n("IaRT"),i=n.n(a),c=n("j1/O");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){v(t,e,n[e])})}return t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function a(){var e,r;u(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return v(y(y(r=p(this,(e=b(a)).call.apply(e,[this].concat(n))))),"searchCache",Object.create(null)),v(y(y(r)),"lastSearchedQuery",null),v(y(y(r)),"search",function(n){(r.lastSearchedQuery=n)in r.searchCache?r.props.onTypeaheadSuggestionsChange(r.searchCache[n],n):r.provider.search(n,function(e){var t=e.items;r.searchCache[n]=t,n===r.lastSearchedQuery&&r.props.onTypeaheadSuggestionsChange(t,n)})}),r}return h(a,e),f(a,[{key:"componentDidMount",value:function e(){var t=this.props.resourceOptions||{};this.provider=new c.a(s({resource_name:this.props.resourceName},t));var n=this.props.value;null!=n&&this.props.allowSearchOnMount&&this.search(this.props.value)}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var n=t.value;null!=n&&n!==this.props.value&&this.search(n)}},{key:"render",value:function e(){return this.props.children||null}}]),a}(r.Component);v(g,"defaultProps",{resourceName:"TypeaheadResource"})},vBru:function(e,t,n){"use strict";var h=n("d6ZO"),m=n.n(h),r=n("DUIN"),y=n("WxTF"),v=n("BAXv"),g=n("CogI"),E=n("W/Cr"),_=n("hkVh"),o=n("NyaW"),w=n("gEaE");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function a(){var e,t;i(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return b(p(p(t=s(this,(e=u(a)).call.apply(e,[this].concat(r))))),"handleBoardCreateFormSubmit",function(e){e.preventDefault(),t.props.onBoardCreate()}),t}return d(a,e),l(a,[{key:"render",value:function e(){var t=this.props,n=t.createBoardError,r=t.inputName,o=t.nameValidatorErrors,a=t.onCancel,i=t.onChangeBoardName,c=t.onChangeBoardPrivacy,l=t.onInvite,s=t.privacy,u=t.saving,d=t.showTitle,f=t.isAdAccountOwner,p=0===o.length,b=s===v.a.BoardPrivacy.SECRET;return m.a.createElement(w.b,{color:"white",height:"100%",position:"absolute",width:"100%",top:!0,left:!0},m.a.createElement("form",{onSubmit:this.handleBoardCreateFormSubmit,style:{height:"100%"}},m.a.createElement(w.b,{direction:"column",display:"flex",height:"100%"},d&&m.a.createElement(w.b,{display:"flex",marginTop:3,paddingX:6,paddingY:3},m.a.createElement(w.K,{size:"xl",bold:!0},E.a._("Create board"))),m.a.createElement(w.b,{padding:3},m.a.createElement(w.b,{marginBottom:2},m.a.createElement(w.q,{htmlFor:"boardEditName"},m.a.createElement(w.K,null,E.a._("Name")))),m.a.createElement(w.b,null,m.a.createElement(g.a,{error:o.join(", "),id:"boardEditName",name:"boardName",onChange:function e(t){var n=t.value;return i(n)},placeholder:E.a._('Like "Places to Go" or "Recipes to Make"'),value:r}))),m.a.createElement(w.j,null),f&&m.a.createElement(m.a.Fragment,null,m.a.createElement(w.b,{padding:3},m.a.createElement(w.b,{marginBottom:2},m.a.createElement(w.q,{htmlFor:"secret"},m.a.createElement(w.K,null,E.a._("Secret","secret board")))),m.a.createElement(w.b,null,m.a.createElement(w.I,{onChange:c,id:"secret",switched:b}))),m.a.createElement(w.j,null),m.a.createElement(w.b,{display:"flex",flex:"grow",overflow:"hidden"},m.a.createElement(w.b,{width:"100%"},m.a.createElement(y.a,{onSelectedCollaboratorsChange:l}))),m.a.createElement(w.j,null)),!f&&m.a.createElement(m.a.Fragment,null,m.a.createElement(w.b,{padding:3},m.a.createElement(w.b,{marginBottom:2},m.a.createElement(w.q,{htmlFor:"protected"},m.a.createElement(w.K,null,E.a._("Protected board (not listed on user's profile)","protected board")))),m.a.createElement(w.b,null,m.a.createElement(w.I,{onChange:function e(){},id:"protected",switched:!0,disabled:!0}))),m.a.createElement(w.j,null)),m.a.createElement(w.b,{padding:6},!!n&&m.a.createElement(w.b,{marginBottom:3},m.a.createElement(w.K,{align:"center",bold:!0,color:"red",size:"sm"},n)),m.a.createElement(w.b,{display:"flex",justifyContent:"between"},m.a.createElement(w.c,{inline:!0,onClick:a,text:E.a._("Cancel","cancel board create")}),m.a.createElement(_.a,{disabled:!r.trim()||!p||!!n||u,submitting:u,text:E.a._("Create","create a new board")}))))))}}]),a}(h.Component),S=Object(o.a)(O),C=n("Td/c"),j=n("JyNp"),k=n("n9Oa"),P=n("Qqx1");function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}function B(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?A(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function a(){var e,o;x(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return F(A(A(o=B(this,(e=L(a)).call.apply(e,[this].concat(n))))),"getSections",function(e){var t=o.props,n=t.board,r=t.sectionsResource.data;return e.length>=P.a?[{items:Object(k.a)([n],e),customProps:{inSectionSelection:!0}},{items:Object(k.a)(r,e,"title")}]:[{items:[n],customProps:{inSectionSelection:!0}},{items:r}]}),o}return D(a,e),R(a,[{key:"render",value:function e(){var t=this.props,n=t.sectionsResource,r=n.error,o=n.isLoaded,a=t.boardSavedTo,i=t.isSelectMode,c=t.onSectionCreate,l=t.onSectionSelected,s=t.pinId;return m.a.createElement(P.b,{isSelectMode:i,boardSavedTo:a,createButtonLabel:E.a._("Add section","Button for creating a board section"),hasLoadError:!!r,isLoaded:o,getSections:this.getSections,onCreate:c,onSelected:l,pinId:s})}}]),a}(h.Component),H=Object(j.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:function e(t){return{board_id:t.board.id}}})(N),U=n("S+Qs"),W=n("MQ2h"),z=n.n(W);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),e}function G(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?J(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}function V(e,t){return(V=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){ee(t,e,n[e])})}return t}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=2,ne=3,re=void 0,oe=function e(t){var n=[],r=[];return t.forEach(function(e){e.name.match(/^\d/)?r.push(e):n.push(e)}),n.concat(r)};function ae(e,t,n){return $({},e?{pin_id:e}:{},t?{username:t}:{},n?{advertiser_id:n,filter:"protected"}:{},{field_set_key:"board_picker",limit:re,shortlist_suggestions:te})}var ie=function(e){function o(){var e,a;Q(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ee(J(J(a=G(this,(e=X(o)).call.apply(e,[this].concat(n))))),"getSections",function(e){var t=a.props.boardResource.data;if(!t)return[];var n=t.all_boards,r=t.boards_shortlist,o=oe(n);return o.length<=3?[{items:o}]:e.length>=P.a?[{items:Object(k.a)(o,e)}]:[r.length?{items:r,title:E.a._("Top choices")}:{items:[]},{items:o,title:E.a._("All boards","title for board picker all boards section")}]}),a}return Y(o,e),q(o,[{key:"render",value:function e(){var t=this.props,n=t.boardResource,r=n.data,o=n.error,a=n.isLoaded,i=t.boardSavedTo,c=t.isSelectMode,l=t.onBoardCreate,s=t.onBoardSelected,u=t.pinId,d=a&&!!r&&r.all_boards.length<=3;return m.a.createElement(P.b,{isSelectMode:c,boardSavedTo:i,hasLoadError:!!o,hasLowBoardCount:d,isLoaded:a,getSections:this.getSections,onCreate:l,onSelected:s,pinId:u})}}]),o}(h.Component);function ce(e){var t=e.advertiser,n=e.viewer;return n.isAuth&&t&&t.owner_user_id!==n.id?{advertiser_id:t.id,username:t.owner_user_id}:{}}var le=Object(W.compose)(Object(r.connect)(ce),Object(j.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:function e(t){return ae(t.pinId,t.username,t.advertiser_id)}}))(ie),se=n("y2lE");function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function de(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){Ee(t,e,n[e])})}return t}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t,n){return t&&pe(e.prototype,t),n&&pe(e,n),e}function he(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?ge(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}function ve(e,t){return(ve=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e){function o(){var e,u;fe(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ee(ge(ge(u=he(this,(e=me(o)).call.apply(e,[this].concat(n))))),"state",{newName:"",selectedSectionBoard:null,showCreate:u.props.showCreate||!1,inviteQueue:{}}),Ee(ge(ge(u)),"close",function(){var e=u.state,t=e.selectedSectionBoard,n=e.showCreate,r=u.props.onClose;n?u.setState({showCreate:!1},u.manageModalTitle):t?u.setState({selectedSectionBoard:null},u.manageModalTitle):r()}),Ee(ge(ge(u)),"sendInvites",function(t){var n=u.state.inviteQueue;Object.keys(n).forEach(function(e){n[e].resource(t.id,[e])})}),Ee(ge(ge(u)),"handleInvite",function(e){var t=u.state.inviteQueue;if(t[e.id]){var n=de({},t);delete n[e.id],u.setState({inviteQueue:n})}else{var r=Object.assign({},t,Ee({},e.id,e));u.setState({inviteQueue:r})}}),Ee(ge(ge(u)),"handleBoardSave",function(e){var t=u.state.selectedSectionBoard,n=u.props,r=n.onBoardSave,o,a;if((0,n.invalidateResource)(),t&&"board_section"===e.type)return r(t,e);var i=e,c=i.section_count,l,s;!t&&0<(void 0===c?0:c)?u.setState({selectedSectionBoard:i},u.manageModalTitle):(u.sendInvites(e),r(i))}),Ee(ge(ge(u)),"handleCreate",function(r){return function(e){e=e||"",u.setState({newName:e,showCreate:!0},u.manageModalTitle);var t=r?13105:13025,n=r?10306:249;u.props.contextLog(101,{component:t,element:n})}}),Ee(ge(ge(u)),"manageModalTitle",function(){var e=u.props.setModalTitle;e&&(u.state.showCreate&&u.state.selectedSectionBoard?e(E.a._("Add section","Repin title for making a board section")):u.state.showCreate?e(E.a._("Create board","Repin title for making a new board")):u.state.selectedSectionBoard?e(E.a._("Choose section","Repin title for choosing a board section")):e(E.a._("Choose board","Repin title for choosing a board")))}),u}return ye(o,e),be(o,[{key:"render",value:function e(){var t=this.props,n=t.boardSavedTo,r=t.isRepin,o=t.isSelectMode,a=t.pinId,i=t.setModalTitle,c=t.suggestedBoardTitle,l=this.state,s=l.inviteQueue,u=l.newName,d=l.selectedSectionBoard,f=l.showCreate,p=!!d,b=!i;return h.createElement(w.b,{display:"flex",width:"100%",position:"relative"},h.createElement(w.b,{width:"100%",display:"flex",direction:"column",marginTop:4},d?h.createElement(H,{isSelectMode:o,board:d,boardSavedTo:n,onSectionCreate:this.handleCreate(p),onSectionSelected:this.handleBoardSave}):h.createElement(le,{isSelectMode:o,boardSavedTo:n,onBoardCreate:this.handleCreate(p),onBoardSelected:this.handleBoardSave,pinId:a})),f&&!d&&h.createElement(S,{prefilledName:u||c,onCancel:this.close,onCreate:this.handleBoardSave,onInvite:this.handleInvite,inviteQueue:s,showTitle:b}),f&&d&&h.createElement(C.a,{board:d,completeCreateSectionAction:this.handleBoardSave,initialName:u,isRepin:r,onClearModal:this.close,showTitle:b}))}}]),o}(h.Component);function we(t,n){return{invalidateResource:function e(){t(Object(U.f)("BoardPickerBoardsResource",ae(n.pinId)))}}}var Oe=t.a=Object(W.compose)(se.a,Object(r.connect)(null,we))(_e)},vJNz:function(e,t,n){"use strict";t.b=I;var S=n("d6ZO"),r=n.n(S),C=n("iSgY"),j=n("BAXv"),k=n("W/Cr"),P=n("gEaE");function I(o,a){var e=o&&1<o.length?new RegExp(o,"i"):"",t;return o&&1<o.length?a.split(e).reduce(function(e,t,n){if(0<e.length&&o&&o.length){var r=a.toLowerCase().indexOf(o.toLowerCase());return e.concat(S.createElement("em",{key:n,style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"}},a.substring(r,r+o.length)),t)}return[t]},[]):a}function o(e){var t=e.disabled,n=e.item,r=e.isSection,o=e.isSelectMode,a=e.isWithinSectionPicker,i=e.saveState,c=e.searchQuery,l=e.selected,s=e.size,u=r?null:n,d=r?n:null,f=d&&d.title||u&&u.name||"",p="",b=!1,h="",m=0;if(u){p=u.image_cover_url,b=u.is_collaborative,h=u.privacy;var y=u.section_count;m=void 0===y?0:y}var v=I(c,f),g=h===j.a.BoardPrivacy.SECRET,E=!t&&(l||!!i),_=!a&&0<m,w=0<m?"boardWithSection":"boardWithoutSection",O=o?k.a._("Select","Board select button label"):k.a._("Save","Pin save button label");return S.createElement(P.b,{alignItems:"center",color:E?"lightGray":"white",display:"flex",paddingX:"lg"===s?4:6,paddingY:2,"data-test-id":w},S.createElement(P.b,{height:"lg"===s?40:36,width:"lg"===s?40:36,color:"lightGray",overflow:"hidden",shape:"rounded",marginRight:2,flex:"none"},p?S.createElement(P.p,{src:p,alt:f,fit:"cover",naturalWidth:1,naturalHeight:1}):S.createElement("span",null)),S.createElement(P.b,{alignItems:"center",justifyContent:"between",display:"flex",flex:"grow"},S.createElement(P.K,{color:t?"gray":"darkGray",bold:!0,size:"lg"===s?"xl":"md",truncate:!0},v),(_||!E)&&S.createElement(P.b,{alignItems:"center",display:"flex"},g&&S.createElement(C.a,{type:"secret"}),b&&S.createElement(C.a,{type:"group"}),_&&S.createElement(C.a,{type:"sections"})),!_&&E&&!i&&S.createElement(P.b,{alignItems:"center","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,dangerouslySetInlineStyle:{__style:{backgroundColor:"#e60023",borderRadius:"4px"}}},!o&&S.createElement(P.b,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}}},S.createElement(P.n,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})),S.createElement(P.K,{bold:!0,color:"white",size:"sm",overflow:"normal"},O)),!_&&E&&"loading"===i&&S.createElement(P.b,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35},S.createElement(P.G,{accessibilityLabel:k.a._("Saving","Accessibility label for saving a pin to a board"),show:!0}))))}o.defaultProps={size:"md"},t.a=o},wUWH:function(e,t,n){"use strict";var r=n("d6ZO"),c=n.n(r),o=n("zTOp"),l=n.n(o),a=n("mHth");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){v(t,e,n[e])})}return t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?y(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function e(){return null},E=function(e){function o(){var e,i;u(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(y(y(i=p(this,(e=b(o)).call.apply(e,[this].concat(n))))),"view",function(e){var t=e.placement_id,n=e.experience_id,r;i.props.experienceClient.viewExperience(t,n)}),v(y(y(i)),"complete",function(e){var t=e.placement_id,n=e.experience_id,r=i.props,o=r.experienceClient,a=r.preventRemoval;a?o.completeExperience(t,n,a):o.completeExperience(t,n)}),v(y(y(i)),"dismiss",function(e){var t=e.placement_id,n=e.experience_id,r=i.props,o=r.experienceClient,a=r.preventRemoval;a?o.dismissExperience(t,n,a):o.dismissExperience(t,n)}),i}return h(o,e),f(o,[{key:"componentDidMount",value:function e(){if(!this.props.disableAutoView){var t=this.getExperience(this.props);t&&this.shouldRenderExperience(t)&&this.view(t)}}},{key:"componentDidUpdate",value:function e(t,n){if(!this.props.disableAutoView){var r=this.getExperience(t),o=this.getExperience(this.props);o&&this.shouldRenderExperience(o)&&(r&&r.experience_id===o.experience_id||this.view(o))}}},{key:"getExperience",value:function e(t){return t.experienceClient.experienceForPlacement}},{key:"shouldRenderExperience",value:function e(t){if(t){var n=t.type,r=t.experience_id;if(this.props.experienceIds&&this.props.experienceIds.includes(r))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===n)return!0;if(this.props.transitionType&&this.props.transitionType===n)return!0}}return!1}},{key:"render",value:function e(){var t=this,n=this.props,r=n.children,o=n.disableAutoView,a=this.getExperience(this.props);if(a&&this.shouldRenderExperience(a)&&r){if(l()(r)){var i=s({},a,{complete:function e(){return t.complete(a)},dismiss:function e(){return t.dismiss(a)}});return o&&(i.view=function(){return t.view(a)}),r(i)}return c.a.Children.only(r)}return c.a.createElement(g,null)}}]),o}(r.Component);t.a=Object(a.a)(E)},xGyi:function(e,t,n){"use strict";var r=n("d6ZO"),l=n.n(r),o=n("DUIN"),c=n("HEYN"),s=n("W/Cr"),u=n("Y5gj"),a=n("JyNp"),i=n("MQ2h"),d=n.n(i),f=n("n9Oa"),p=n("vJNz"),b=n("Qqx1"),h=n("gEaE");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function y(e){return E(e)||g(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function g(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function E(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function S(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?P(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function k(e,t){return(k=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x="NO_SECTION_VALUE";function T(e){var t=e.section,n=e.hovered,r=e.searchQuery;return l.a.createElement(h.b,null,l.a.createElement(h.b,{color:n?"lightGray":"white",display:"flex",padding:2,shape:"rounded"},l.a.createElement(h.b,{flex:"grow"},l.a.createElement(h.K,{bold:!0},Object(p.b)(r,t.title)))),t.id===x&&l.a.createElement(h.j,null))}var R=function(e){function o(){var e,i;_(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return I(P(P(i=S(this,(e=C(o)).call.apply(e,[this].concat(n))))),"state",{searchQuery:""}),I(P(P(i)),"getPickerSections",function(){var e=i.state.searchQuery,t=i.props,n=t.sectionsResource.data,r=void 0===n?[]:n,o=t.mergingFromSectionId,a=r;return a=o?a.filter(function(e){return e.id!==o}):[{id:x,title:s.a._("No section","default dropdown option for selecting a board section on pin edit")}].concat(y(a)),e.length>=b.a&&(a=Object(f.a)(a,e,"title")),[{items:a}]}),I(P(P(i)),"handleSectionCreate",function(){var e=i.props,t=e.board,n=e.onSectionChange,r=e.sectionsResource,o=e.dispatch,a=i.state.searchQuery;o(Object(c.a)({boardId:t.id,name:a})).then(function(e){r.refreshData(),i.setState({searchQuery:""}),n(e)})}),I(P(P(i)),"handleSectionSelected",function(e){var t=i.props.onSectionChange;e.id===x?t(null):t(e),i.setState({searchQuery:""})}),I(P(P(i)),"handleSearchQueryUpdate",function(e){i.setState({searchQuery:e})}),I(P(P(i)),"renderRow",function(e){var t=e.item,n=e.hovered,r=i.state.searchQuery;return l.a.createElement(T,{section:t,hovered:n,searchQuery:r})}),i}return j(o,e),O(o,[{key:"render",value:function e(){var t=this.props,n=t.sectionsResource,r=t.selectedSectionId,o=t.mergingFromSectionId,a=this.state.searchQuery,i=(n.data||[]).find(function(e){return e.id===r}),c=o?s.a._("Pick a section","default dropdown option for selecting a board section to merge to"):s.a._("No section","default dropdown option for selecting a board section on pin edit");return l.a.createElement(h.b,null,l.a.createElement(h.G,{accessibilityLabel:s.a._("loading board picker","accessibility text for loading spinner"),show:!n.isLoaded}),n.isLoaded&&l.a.createElement(u.a,{dropdownValue:i?i.title:c,onCreate:o?null:this.handleSectionCreate,onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleSectionSelected,renderRow:this.renderRow,searchQuery:a,sections:this.getPickerSections()}))}}]),o}(r.Component);t.a=Object(i.compose)(Object(o.connect)(),Object(a.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:function e(t){return{board_id:t.board.id}}},{allowStale:!1}))(R)},ymrh:function(e,t,n){"use strict";var i=n("d6ZO"),_=n.n(i),r=n("DUIN"),w=n("W9T9"),O=n("lip+"),S=n("W/Cr"),C=n("R6a3"),o=n("hkVh"),j=n("rgtM"),c=n("FTnl"),a=n("kxCB"),k=n("gEaE");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?m(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function a(){var e,t;s(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y(m(m(t=f(this,(e=p(a)).call.apply(e,[this].concat(r))))),"state",{deleting:!1}),y(m(m(t)),"unmounted",!1),y(m(m(t)),"handleConfirm",function(){if(!t.state.deleting){var e=t.props.onDeletePin;t.setState({deleting:!0}),e().then(function(){return t.handleDeleteDidComplete()}).catch(function(e){return t.handleDeleteDidComplete(e)})}}),y(m(m(t)),"handleDeleteDidComplete",function(e){t.unmounted||t.setState({deleting:!1}),e||t.props.showToast(function(e){var t=e.onHide;return _.a.createElement(c.a,{onHide:t,text:S.a._("Pin deleted!","User deleted their pin")})})}),t}return b(a,e),d(a,[{key:"componentWillUnmount",value:function e(){this.unmounted=!0}},{key:"render",value:function e(){var t=this.props.onDismiss,n=this.state.deleting;return _.a.createElement(C.a,{accessibilityCloseLabel:S.a._("Close","Accessible label for button to close confirm delete pin modal"),heading:S.a._("Are you sure?","Confirm the user wants to delete the pin"),accessibilityModalLabel:S.a._("Are you sure you want to delete this pin?","Accessible label to confirm the user wants to delete the pin"),size:"sm",onDismiss:t,footer:_.a.createElement(k.b,{display:"flex",justifyContent:"end",marginLeft:-1,marginRight:-1},_.a.createElement(k.b,{paddingX:1},_.a.createElement(k.c,{onClick:t,text:S.a._("Cancel")})),_.a.createElement(k.b,{paddingX:1},_.a.createElement(j.a,{id:"confirm-delete-pin"},_.a.createElement(o.a,{color:"red",onClick:this.handleConfirm,text:S.a._("Delete Pin"),submitting:n}))))},_.a.createElement(k.b,{padding:4},_.a.createElement(k.K,null,S.a._("Once you delete a Pin, you can't undo it!"))))}}]),a}(_.a.PureComponent),g=Object(a.a)(v);g.displayName="DeletePinConfirmation";var P=g,E=n("NCQM");function I(e){var t=e.board,n=e.canEdit,r=e.onBoardChange;return i.createElement(k.b,{md:{display:"flex"},justifyContent:"between",paddingX:4,paddingY:3},i.createElement(k.b,{xs:{column:12},md:{column:3},paddingY:2},i.createElement(k.q,{htmlFor:"BoardPicker"},i.createElement(k.K,{size:"sm"},S.a._("Board")))),n?i.createElement(k.b,{xs:{column:12},md:{column:8}},i.createElement(E.a,{id:"BoardPicker",board:t,onBoardChosen:r})):i.createElement(k.b,{xs:{column:12},md:{column:8},paddingY:2},i.createElement(k.K,{bold:!0,size:"sm"},t.name)))}function x(e){var t=e.canEdit,n=e.description,r=e.onDescriptionChange;return i.createElement(i.Fragment,null,i.createElement(k.j,null),i.createElement(k.b,{md:{display:"flex"},justifyContent:"between",paddingX:4,paddingY:3},i.createElement(k.b,{xs:{column:12},md:{column:3},paddingY:2},i.createElement(k.q,{htmlFor:"DescriptionField"},i.createElement(k.K,{size:"sm"},S.a._("Description")))),t?i.createElement(k.b,{xs:{column:12},md:{column:8}},i.createElement(k.L,{id:"DescriptionField",placeholder:S.a._("Tell us about this Pin..."),value:n,onChange:r})):i.createElement(k.b,{xs:{column:12},md:{column:8},paddingY:2},i.createElement(k.K,{bold:!0,size:"sm"},n))))}var T=n("xGyi");function R(e){var t=e.board,n=e.canEdit,r=e.currentSection,o=e.onSectionChange,a=e.sectionId;return i.createElement(k.b,{md:{display:"flex"},justifyContent:"between",paddingX:4,paddingY:3},i.createElement(k.b,{xs:{column:12},md:{column:3},paddingY:3},i.createElement(k.q,{htmlFor:"SectionPicker"},i.createElement(k.K,{size:"sm"},S.a._("Section","label for editing a Pin's board section")))),n?i.createElement(k.b,{xs:{column:12},md:{column:8}},i.createElement(T.a,{id:"SectionPicker",board:t,onSectionChange:o,selectedSectionId:a})):i.createElement(k.b,{xs:{column:12},md:{column:8},paddingY:2},i.createElement(k.K,{bold:!0,size:"sm"},r&&!(t||{}).is_collaborative?r.title:S.a._("No section","default dropdown option for selecting a board section on pin edit"))))}function B(e){var t=e.onTitleChange,n=e.title;return i.createElement(i.Fragment,null,i.createElement(k.j,null),i.createElement(k.b,{md:{display:"flex"},justifyContent:"between",paddingX:4,paddingY:3},i.createElement(k.b,{xs:{column:12},md:{column:3},paddingY:2},i.createElement(k.q,{htmlFor:"TitleField"},i.createElement(k.K,{size:"sm"},S.a._("Title","Label for editing title of pin")))),i.createElement(k.b,{xs:{column:12},md:{column:8}},i.createElement(k.M,{id:"TitleField",value:n,onChange:t}))))}function L(e){var t=e.onChangeWebsite,n=e.link;return i.createElement(i.Fragment,null,i.createElement(k.j,null),i.createElement(k.b,{md:{display:"flex"},justifyContent:"between",paddingX:4,paddingY:3},i.createElement(k.b,{xs:{column:12},md:{column:3},paddingY:2},i.createElement(k.q,{htmlFor:"WebsiteField"},i.createElement(k.K,{size:"sm"},S.a._("Website")))),i.createElement(k.b,{xs:{column:12},md:{column:8}},i.createElement(k.M,{id:"WebsiteField",value:n,onChange:t}))))}var D=n("Cjb7"),M=n("ZtCB"),A=n.n(M),F=n("pN+K"),N=n("EfF6"),H=n("S+Qs"),U=n("woYD"),W=n("D+PP"),z=n("MQ2h"),K=n.n(z),Q=n("NmQ5");function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){ne(t,e,n[e])})}return t}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),e}function V(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?te(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}function ee(e,t){return(ee=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){function o(){var e,I;G(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ne(te(te(I=V(this,(e=J(o)).call.apply(e,[this].concat(n))))),"state",{board:I.props.data&&I.props.data.board||null,commentsDisabled:I.props.data&&I.props.data.comments_disabled||!1,description:I.props.data&&I.props.data.description.trim()||"",link:I.props.data&&I.props.data.link||"",photosDisabled:I.props.data&&I.props.data.did_it_disabled||!1,sectionId:I.props.data&&I.props.data.section&&I.props.data.section.id||null,showDeleteConfirmation:!1,title:I.props.data&&I.props.data.title||"",isProcessing:!1}),ne(te(te(I)),"onClickDeleteButton",function(){return I.setState({showDeleteConfirmation:!0})}),ne(te(te(I)),"onHideConfirmation",function(){return I.setState({showDeleteConfirmation:!1})}),ne(te(te(I)),"handleBoardChange",function(e){var t=I.state.board.id;e.id!==t&&I.setState({board:e,sectionId:null})}),ne(te(te(I)),"handleSectionChange",function(e){return I.setState({sectionId:e&&e.id||null})}),ne(te(te(I)),"handleDeletePin",function(){var e=I.props,r=e.data,o=e.pinId,a=e.onDelete,i=e.onHide,c=e.changeBoardPinCount,l=e.changeUserPinCount,t=e.advertiser_id,n=q({},t?{advertiser_id:t}:{},{id:o});return A.a.create("PinResource",n).callDelete().then(function(){var e=r.board.id,t=r.pinner.id,n=r.section;c({boardId:e,sectionId:n&&n.id||void 0,increment:-1}),l({userId:t,increment:-1}),D.a.instance.publish(e,"pinDeleted",o),D.a.instance.publish(t,"pinDeleted"),D.a.instance.publish(o,"pinDeleted"),i(),a&&a()})}),ne(te(te(I)),"handleDescriptionChange",function(e){var t=e.value;return I.setState({description:t})}),ne(te(te(I)),"handleSave",function(){I.setState({isProcessing:!0});var e=I.props,t=e.advertiser_id,n=e.pinId,r=q({board_id:I.state.board.id,board_section_id:I.state.sectionId,description:I.state.description,disable_comments:I.state.commentsDisabled,disable_did_it:I.state.photosDisabled,id:n,link:I.state.link,title:I.state.title},t?{advertiser_id:t}:{});A.a.create("PinResource",r).callUpdate().then(function(e){var t=I.props,n=t.activatePinEditExp,r=t.data,o=r.board,a=r.description,i=r.section,c=t.invalidatePinResource,l=t.onHide,s=t.onSubmit,u=t.pinId,d=t.pinMoved,f=I.props,p=f.changeBoardPinCount,b=f.view,h=f.viewParameter,m=I.state,y=m.board,v=void 0===y?o:y,g=m.description,E=m.sectionId,_=i&&i.id||null,w=v.id,O=o.id,S=O!==w,C=!(!_&&!E||_===E),j=!(!a.trim().length&&!g.trim().length||a===g);(S||C)&&(d({selectedPinIds:[u],source:{boardId:O,sectionId:_},target:{boardId:w,sectionId:E}}),p({boardId:w,sectionId:E||void 0,increment:1}),p({boardId:O,sectionId:_||void 0,increment:-1})),s&&s({boardId:w,title:v.name,sectionId:E,url:v.url}),l(),c(u);var k={};S&&(k.board_was_modified=!0),!S&&C&&(k.board_section_was_modified=!0),j&&(k.original_pin_description=a,k.edited_pin_description=g);var P=["employees","enabled"].includes(n()||"");(!P||P&&(S||C||j))&&Object(U.a)(2,q({component:208,view:b,viewParameter:h},k))}).catch(function(){I.setState({isProcessing:!1})})}),ne(te(te(I)),"handleTitleChange",function(e){var t=e.value;return I.setState({title:t})}),ne(te(te(I)),"handleWebsiteChange",function(e){var t=e.value;return I.setState({link:t})}),ne(te(te(I)),"handleCommentChange",function(e){return I.setState({commentsDisabled:!e.value})}),ne(te(te(I)),"handlePhotoChange",function(e){return I.setState({photosDisabled:!e.value})}),I}return $(o,e),Y(o,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var n=t.data;n&&this.setState({board:n.board,commentsDisabled:n.comments_disabled,description:n.description.trim(),link:n.link,photosDisabled:n.did_it_disabled,sectionId:(n.section||{}).id,title:n.title})}},{key:"render",value:function e(){var t=this,n=this.props,r=n.data,o=n.onHide,a=n.resourceLoaded,i=this.state,c=i.board,l=i.commentsDisabled,s=i.description,u=i.link,d=i.photosDisabled,f=i.sectionId,p=i.showDeleteConfirmation,b=i.title,h=i.isProcessing;if(p)return _.a.createElement(P,{onDeletePin:this.handleDeletePin,onDismiss:this.onHideConfirmation});var m=r&&(r.access||[]).includes("write")||this.props.canEdit,y=r&&r.story_pin_data_id,v=function e(t){return m&&!(r.aggregated_pin_data&&r.aggregated_pin_data.is_shop_the_look)&&(!r.is_repin||r.link_domain&&r.link_domain.official_user&&r.link_domain.official_user.id===t.id)&&!y},g=function e(t){return m&&r.is_native&&r.native_creator&&r.native_creator.id===t.id},E=r&&r.carousel_data;return _.a.createElement(C.a,{accessibilityCloseLabel:S.a._("Close","Accessible label for button to close edit pin modal"),heading:S.a._("Edit this Pin","Edit a previously saved pin"),accessibilityModalLabel:S.a._("Edit your previously saved pin","Accessible label for edit previously saved pin modal"),size:"lg",onDismiss:o,footer:_.a.createElement(k.b,{display:"flex",justifyContent:"between",marginLeft:-1,marginRight:-1},_.a.createElement(k.b,null,_.a.createElement(j.a,{id:"delete-pin-button"},_.a.createElement(k.c,{text:S.a._("Delete"),onClick:this.onClickDeleteButton}))),_.a.createElement(k.b,{display:"flex",justifyContent:"between",marginLeft:-2,marginRight:-2},_.a.createElement(k.b,{paddingX:2},_.a.createElement(k.c,{text:S.a._("Cancel"),onClick:o})),_.a.createElement(k.b,{paddingX:2,"data-test-id":"edit-pin-save"},_.a.createElement(k.c,{text:S.a._("Save"),color:"red",onClick:this.handleSave}))))},!a||h?_.a.createElement(k.b,{paddingX:12,paddingY:9},_.a.createElement(k.G,{accessibilityLabel:S.a._("loading","Accessible label for the edit pin loading icon"),show:!0})):_.a.createElement(O.a,null,function(e){return _.a.createElement(k.b,{md:{display:"flex"},justifyContent:"between"},_.a.createElement(k.b,{xs:{column:12},md:{column:9}},_.a.createElement(I,{board:c||r.board,canEdit:m,onBoardChange:t.handleBoardChange}),_.a.createElement(R,{board:c||r.board,canEdit:m,currentSection:r.section,onSectionChange:t.handleSectionChange,sectionId:f}),g(e)&&_.a.createElement(B,{onTitleChange:t.handleTitleChange,title:b}),!E&&!y&&_.a.createElement(x,{canEdit:m,description:s,onDescriptionChange:t.handleDescriptionChange}),v(e)&&!E&&_.a.createElement(L,{link:u,onChangeWebsite:t.handleWebsiteChange}),r.can_delete_did_it_and_comments&&_.a.createElement(w.a,{commentsDisabled:l,onCommentChange:t.handleCommentChange,onPhotoChange:t.handlePhotoChange,photosDisabled:d})),_.a.createElement(k.b,{paddingX:4,paddingY:3,xs:{column:12},md:{column:3,display:"flex"},alignItems:"center"},_.a.createElement(k.u,{width:150},_.a.createElement(k.b,{paddingX:4,paddingY:3},_.a.createElement(k.u,{shape:"rounded"},_.a.createElement(k.p,{alt:s,color:"#efefef",naturalHeight:r.images["236x"].height,src:r.images["236x"].url,naturalWidth:r.images["236x"].width}))))))}))}}]),o}(i.Component),oe=function e(t){return{field_set_key:"detailed",id:t,mutate_redux:!0}};function ae(e,t){var n=e.advertiser,r=e.viewer;return r.isAuth&&n&&n.owner_user_id!==r.id?{advertiser_id:n.id}:{}}var ie=function e(n){return{invalidatePinResource:function e(t){return n(Object(H.f)("PinResource",oe(t)))},changeBoardPinCount:function e(t){return n(Object(N.d)(t))},changeUserPinCount:function e(t){return n(Object(W.a)(t))},pinMoved:Object(z.bindActionCreators)(Q.b,n)}},ce=t.a=Object(z.compose)(Object(F.b)({name:"PinResource",options:function e(t){return oe(t.pinId)}}),Object(r.connect)(ae,ie))(re)}});